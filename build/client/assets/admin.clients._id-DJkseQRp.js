import{w as j,u as g,c as N,a as v,L as y}from"./chunk-JZWAC4HX-DumfKpwM.js";import{r as b,j as e}from"./forgot-password-Cd1Knve9.js";import{B as t}from"./button-D5icbzZz.js";import{C as r}from"./card-Cg68uFrF.js";import{B as k}from"./badge-OnEQOSZY.js";import{T as w,a as C,b as i,c as n}from"./tabs-C5PlI2Of.js";import{P as S}from"./PageHeader-BWRrOg2b.js";import{D as o}from"./DashboardCard-CAo4eudV.js";import{c as T}from"./utils-CDN07tui.js";import{S as _}from"./square-pen-DbBn1E1l.js";import{T as D}from"./trending-up-BKzFUhqw.js";import{C as I}from"./credit-card-CZ_EN1c_.js";import{D as P}from"./dollar-sign-c_abpx4r.js";import{A}from"./award-CISDC_7z.js";import{U as $}from"./user-BQEge37k.js";import{M as E}from"./map-pin-BU3OPG7D.js";import{P as L}from"./plus-D5F9e-Lx.js";import{S as R}from"./star-jM7IWhSt.js";import"./index-Ds5WWjjE.js";import"./index-CGIZjBuz.js";import"./index-CNk52wy-.js";import"./index-CzPzUr9r.js";import"./index-r0Cach5g.js";import"./index-BTyV9z74.js";import"./createLucideIcon-C45Xejds.js";const le=j(function(){const{client:s}=g(),c=N();v();const[h,d]=b.useState(!1),[f,l]=b.useState(!1);return e.jsxs("div",{className:"p-8 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700 pb-20",children:[e.jsx(S,{title:s.nome,subtitle:`Cliente desde ${new Date(s.data_cadastro).getFullYear()} • ID #${s.id.substring(0,8)}`,backLink:"/admin/clients",rightElement:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(t,{variant:"outline",asChild:!0,className:"h-14 rounded-xl px-6 font-bold uppercase text-[12px] border-border/50",children:e.jsxs(y,{to:`/admin/clients/edit/${s.id}`,children:[e.jsx(_,{size:18,className:"mr-2"})," Editar Cadastro"]})}),e.jsx(t,{onClick:()=>d(!0),className:"h-14 rounded-xl px-8 bg-primary font-bold uppercase text-[12px] shadow-lg shadow-primary/20",children:"REGISTRAR CONTATO"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(o,{title:"Viagens Realizadas",value:s.reservations.length,icon:D,variant:"primary"}),e.jsx(o,{title:"Saldo Créditos",value:`R$ ${Number(s.saldo_creditos).toFixed(2)}`,icon:I,variant:"indigo"}),e.jsx(o,{title:"Total Gasto",value:`R$ ${Number(s.valor_total_gasto).toFixed(2)}`,icon:P,variant:"emerald"}),e.jsx(o,{title:"Segmento",value:s.segmento||"NOVO",icon:A,variant:"blue"})]}),e.jsx(w,{defaultValue:"info",className:"w-full",children:e.jsxs(r,{className:"rounded-[40px] border-none shadow-2xl bg-card/40 backdrop-blur-sm overflow-hidden",children:[e.jsx("div",{className:"px-8 pt-8",children:e.jsxs(C,{className:"bg-muted/40 p-1.5 rounded-2xl h-14 flex w-fit border border-border/50",children:[e.jsx(i,{value:"info",className:"px-8 rounded-xl font-bold uppercase text-[10px] tracking-widest data-[state=active]:bg-background",children:"Perfil"}),e.jsx(i,{value:"history",className:"px-8 rounded-xl font-bold uppercase text-[10px] tracking-widest data-[state=active]:bg-background",children:"Histórico"}),e.jsx(i,{value:"interactions",className:"px-8 rounded-xl font-bold uppercase text-[10px] tracking-widest data-[state=active]:bg-background",children:"Interações"}),e.jsx(i,{value:"notes",className:"px-8 rounded-xl font-bold uppercase text-[10px] tracking-widest data-[state=active]:bg-background",children:"Notas"})]})}),e.jsxs("div",{className:"p-8",children:[e.jsx(n,{value:"info",className:"mt-0 space-y-10 animate-in fade-in duration-500",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-[12px] font-black uppercase tracking-widest text-muted-foreground flex items-center gap-2",children:[e.jsx($,{size:16,className:"text-primary"})," Dados Pessoais"]}),e.jsx("div",{className:"space-y-4",children:[{label:"E-mail",value:s.email},{label:"Telefone",value:s.telefone},{label:"Documento",value:`${s.documento_tipo}: ${s.documento}`},{label:"Data Nascimento",value:s.data_nascimento}].map(a=>e.jsxs("div",{className:"flex justify-between border-b border-border/30 pb-3",children:[e.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase",children:a.label}),e.jsx("span",{className:"text-sm font-black",children:a.value||"---"})]},a.label))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-[12px] font-black uppercase tracking-widest text-muted-foreground flex items-center gap-2",children:[e.jsx(E,{size:16,className:"text-primary"})," Localização"]}),e.jsxs("div",{className:"p-6 rounded-3xl bg-muted/20 border border-border/30 space-y-2",children:[e.jsx("p",{className:"text-sm font-bold",children:s.endereco||"Não Informado"}),e.jsxs("p",{className:"text-xs font-bold text-muted-foreground uppercase",children:[s.cidade," - ",s.estado]})]})]})]})}),e.jsx(n,{value:"history",className:"mt-0 animate-in fade-in duration-500 space-y-4",children:s.reservations.map(a=>{var m,p,x,u;return e.jsxs("div",{className:"p-6 rounded-3xl border border-border/30 bg-muted/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary font-black",children:a.seat_number}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:((p=(m=a.trip)==null?void 0:m.route)==null?void 0:p.name)||"Viagem Operacional"}),e.jsxs("p",{className:"text-[10px] font-black uppercase text-muted-foreground",children:[(x=a.trip)==null?void 0:x.departure_date," • ",(u=a.trip)==null?void 0:u.departure_time]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-black text-lg",children:["R$ ",Number(a.total_price).toFixed(2)]}),e.jsx(k,{variant:"outline",className:"rounded-lg text-[9px] uppercase font-black",children:a.status})]})]},a.id)})}),e.jsxs(n,{value:"interactions",className:"mt-0 animate-in fade-in duration-500 space-y-6",children:[h&&e.jsx(r,{className:"p-6 border-primary/20 bg-primary/5 rounded-3xl space-y-4",children:e.jsxs(c.Form,{method:"post",onSubmit:()=>d(!1),children:[e.jsx("input",{type:"hidden",name:"intent",value:"add-interaction"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("select",{name:"type",className:"h-12 px-4 rounded-xl bg-background border-border font-bold text-xs uppercase",children:[e.jsx("option",{value:"WHATSAPP",children:"WhatsApp"}),e.jsx("option",{value:"PHONE",children:"Telefone"}),e.jsx("option",{value:"EMAIL",children:"E-mail"})]}),e.jsx("input",{name:"description",placeholder:"Resumo do contato...",className:"h-12 px-4 rounded-xl bg-background border-border font-bold text-xs outline-none",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(t,{type:"button",variant:"ghost",onClick:()=>d(!1),children:"Cancelar"}),e.jsx(t,{type:"submit",children:"Gravar Interação"})]})]})}),e.jsx("div",{className:"space-y-4",children:s.interactions.map(a=>e.jsxs("div",{className:"relative pl-8 border-l-2 border-border/50 pb-6 last:pb-0",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-primary border-4 border-background"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-black uppercase text-primary tracking-widest",children:a.type}),e.jsx("p",{className:"text-sm font-medium",children:a.description}),e.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase",children:new Date(a.date_time).toLocaleString()})]})]},a.id))})]}),e.jsxs(n,{value:"notes",className:"mt-0 animate-in fade-in duration-500 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-[12px] font-black uppercase tracking-widest text-muted-foreground",children:"Notas Estratégicas"}),e.jsxs(t,{onClick:()=>l(!0),variant:"outline",className:"h-10 rounded-xl px-4 font-bold text-[10px] uppercase tracking-widest",children:[e.jsx(L,{size:14,className:"mr-2"})," Adicionar Nota"]})]}),f&&e.jsx(r,{className:"p-6 border-amber-200 bg-amber-50/10 rounded-3xl",children:e.jsxs(c.Form,{method:"post",className:"space-y-4",onSubmit:()=>l(!1),children:[e.jsx("input",{type:"hidden",name:"intent",value:"add-note"}),e.jsx("input",{name:"title",placeholder:"Título da nota...",className:"w-full h-12 px-4 rounded-xl bg-background border-border font-bold text-xs outline-none",required:!0}),e.jsx("textarea",{name:"content",placeholder:"Conteúdo...",className:"w-full p-4 rounded-xl bg-background border-border font-bold text-xs outline-none min-h-[100px]",required:!0}),e.jsxs("label",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"important",value:"true",className:"rounded"})," Marcar como Importante"]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(t,{type:"button",variant:"ghost",onClick:()=>l(!1),children:"Cancelar"}),e.jsx(t,{type:"submit",children:"Salvar Nota"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.notes.map(a=>e.jsxs(r,{className:T("p-6 rounded-[2rem] border-none shadow-xl",a.is_important?"bg-amber-500/10":"bg-muted/10"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h4",{className:"font-black uppercase text-[12px] tracking-tight",children:a.title}),a.is_important&&e.jsx(R,{size:14,className:"text-amber-500 fill-amber-500"})]}),e.jsxs("p",{className:"text-sm font-medium opacity-80 mb-6 leading-relaxed",children:['"',a.content,'"']}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/20",children:[e.jsx("span",{className:"text-[9px] font-black uppercase opacity-60",children:"Admin"}),e.jsx("span",{className:"text-[9px] font-black uppercase opacity-60",children:new Date(a.createdAt).toLocaleDateString()})]})]},a.id))})]})]})]})})]})});export{le as default};
