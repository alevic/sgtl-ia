import{w as v,u as k,c as S}from"./chunk-JZWAC4HX-DumfKpwM.js";import{r as x,j as e}from"./forgot-password-Cd1Knve9.js";import{u as w}from"./AppContext-CqFrqiNi.js";import{B as g}from"./button-D5icbzZz.js";import{C as h}from"./card-Cg68uFrF.js";import{P as A}from"./PageHeader-BWRrOg2b.js";import{c as C}from"./utils-CDN07tui.js";import{I as y}from"./input-emgR2opu.js";import{c as _}from"./createLucideIcon-C45Xejds.js";import{S as z}from"./search-CnuVL9vz.js";import{P}from"./plus-D5F9e-Lx.js";import{C as j}from"./chevron-right-DQu5sotq.js";import{L as E}from"./loader-circle-ic6ikmbW.js";import{S as M}from"./save-QxpYx9ZK.js";import{T as D}from"./trash-2-BO5CKzGP.js";import"./types-DFYgxmzW.js";import"./reset-password-P0kMDf4s.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],T=_("settings-2",L),O=({label:b,description:l,k:a,type:d="text",placeholder:i="",options:m=[],allSettings:u,setAllSettings:p})=>{const o=u[a]||"",n=r=>p(c=>({...c,[a]:r}));return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("label",{className:"text-label-caps ml-1",children:b}),e.jsx("code",{className:"text-[10px] bg-primary/5 px-2 py-0.5 rounded-lg border border-primary/10 text-primary font-mono",children:a})]}),l&&e.jsx("p",{className:"text-[11px] font-medium text-muted-foreground/80 leading-relaxed mb-2 px-1",children:l}),d==="textarea"?e.jsx("textarea",{value:o,onChange:r=>n(r.target.value),placeholder:i,className:"w-full p-4 bg-muted/40 border border-border/50 rounded-xl font-medium text-sm transition-all focus:ring-2 focus:ring-primary/20 outline-none resize-none h-28"}):d==="select"?e.jsxs("div",{className:"relative group",children:[e.jsx("select",{value:o,onChange:r=>n(r.target.value),className:"w-full h-14 px-4 bg-muted/40 border border-border/50 rounded-xl font-bold transition-all focus:ring-2 focus:ring-primary/20 outline-none appearance-none cursor-pointer text-sm",children:m.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),e.jsx(j,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 rotate-90 text-muted-foreground"})]}):d==="checkbox"?e.jsxs("div",{className:"flex items-center gap-3 bg-muted/20 p-4 rounded-xl border border-border/40",children:[e.jsx("input",{type:"checkbox",checked:o==="true",onChange:r=>n(r.target.checked?"true":"false"),className:"w-5 h-5 rounded border-gray-300 text-primary focus:ring-primary"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-foreground",children:o==="true"?"ATIVADO":"DESATIVADO"})]}):e.jsx(y,{type:d,value:o,onChange:r=>n(r.target.value),placeholder:i,className:"h-14 bg-muted/40 border-input rounded-xl font-bold"})]})},f={system_name:{label:"Nome do Sistema",group:"Sistema",type:"text",description:"Nome do dashboard administrativo."},system_slogan:{label:"Slogan/Subtítulo",group:"Sistema",type:"text",description:"Slogan ou subtítulo do sistema."},system_support_email:{label:"Email de Suporte",group:"Sistema",type:"text",description:"Email para suporte técnico."},auto_start_trips:{label:"Automação de Status",group:"Viagens",type:"checkbox",description:"Mudar para 'Em Trânsito' automaticamente no horário de partida."},system_currency:{label:"Moeda",group:"Financeiro",type:"text",description:"Símbolo monetário (ex: R$, $)."}},te=v(function(){const{parameters:l}=k(),a=S(),{currentContext:d}=w(),[i,m]=x.useState("Sistema"),[u,p]=x.useState(""),[o,n]=x.useState(()=>{const s={};return l.forEach(t=>{s[t.key]=t.value}),s}),r=["Sistema","Viagens","Financeiro","Frota","Portal Público","Avançado"],c=l.filter(s=>{const t=f[s.key];return(s.group_name||(t==null?void 0:t.group)||"Avançado")===i}),N=()=>{const s=c.map(t=>({key:t.key,value:o[t.key],description:t.description,group_name:t.group_name}));a.submit({intent:"save-batch",data:JSON.stringify(s)},{method:"post"})};return e.jsxs("div",{className:"p-8 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700 pb-10",children:[e.jsx(A,{title:"Configurações do Sistema",subtitle:"Ajustes globais e políticas de infraestrutura",icon:T,rightElement:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative md:w-64",children:[e.jsx(z,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:16}),e.jsx(y,{placeholder:"Localizar...",value:u,onChange:s=>p(s.target.value),className:"h-14 pl-12 bg-card/50 rounded-xl"})]}),e.jsxs(g,{className:"h-14 rounded-xl px-8 font-black uppercase text-[12px] tracking-widest shadow-lg shadow-primary/20",children:[e.jsx(P,{size:16,className:"mr-2",strokeWidth:3})," NOVO"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs(h,{className:"lg:col-span-1 shadow-2xl bg-card/50 backdrop-blur-sm rounded-[2.5rem] p-3 flex flex-col h-fit",children:[e.jsx("div",{className:"p-4 border-b border-border/50 mb-2 font-bold text-xs uppercase tracking-widest text-muted-foreground/60",children:"Módulos"}),r.map(s=>e.jsxs("button",{onClick:()=>m(s),className:C("w-full flex items-center justify-between px-6 py-4 rounded-xl transition-all font-bold text-sm tracking-tight",i===s?"bg-primary text-primary-foreground shadow-lg":"text-muted-foreground hover:bg-muted/50"),children:[s,i===s&&e.jsx(j,{size:14})]},s))]}),e.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-black flex items-center gap-3 tracking-tighter uppercase",children:i}),e.jsxs(g,{onClick:N,disabled:a.state!=="idle",className:"h-12 rounded-xl px-10 bg-foreground text-background font-black uppercase text-[12px]",children:[a.state!=="idle"?e.jsx(E,{className:"animate-spin mr-2",size:16}):e.jsx(M,{className:"mr-2",size:16}),"SALVAR MÓDULO"]})]}),e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:c.map(s=>{const t=f[s.key];return e.jsxs(h,{className:"group/card shadow-xl bg-card/50 backdrop-blur-sm border border-border/40 rounded-3xl p-8 hover:border-primary/40 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-black text-sm uppercase tracking-tight",children:(t==null?void 0:t.label)||s.key}),e.jsx("code",{className:"text-[10px] bg-muted/50 px-2 py-0.5 rounded-lg text-primary font-mono",children:s.key})]}),e.jsx(g,{variant:"ghost",size:"icon",onClick:()=>a.submit({intent:"delete",id:s.id},{method:"post"}),className:"opacity-0 group-hover/card:opacity-100",children:e.jsx(D,{size:14})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-6 leading-relaxed",children:(t==null?void 0:t.description)||s.description}),e.jsx("div",{className:"p-6 bg-muted/20 rounded-xl border border-border/30",children:e.jsx(O,{label:"",k:s.key,type:(t==null?void 0:t.type)||"text",options:t==null?void 0:t.options,allSettings:o,setAllSettings:n})})]},s.id)})})]})]})]},"settings-main")});export{te as default};
