import{w as he,u as fe,L as ge}from"./chunk-JZWAC4HX-DumfKpwM.js";import{r as u,j as e}from"./forgot-password-Cd1Knve9.js";import{B as J}from"./button-D5icbzZz.js";import{C as ke}from"./card-Cg68uFrF.js";import{B as je}from"./badge-OnEQOSZY.js";import{T as ve,a as Ne,b as R,c as P}from"./tabs-C5PlI2Of.js";import{P as we}from"./PageHeader-BWRrOg2b.js";import{D as O}from"./DashboardCard-CAo4eudV.js";import{T as ee,a as se,b as B,c as w,d as te}from"./table-B8EXJzV4.js";import{p as b,A as ae,V as ye}from"./types-DFYgxmzW.js";import{c as I}from"./createLucideIcon-C45Xejds.js";import{P as U}from"./plus-D5F9e-Lx.js";import{X as z}from"./x-CitWcJvG.js";import{S as Se}from"./save-QxpYx9ZK.js";import{B as Ee}from"./bus-D0L2JeBO.js";import{S as Ce}from"./square-pen-DbBn1E1l.js";import{G as Ae}from"./gauge-ysNVctcQ.js";import{C as Te}from"./clock-BRAlDuTD.js";import{U as _e}from"./users-BFoA2Uj7.js";import{W as Le}from"./wrench-sIQVKmUa.js";import{F as Re}from"./file-text-BwHme3NP.js";import{C as Pe}from"./circle-check-big-I14bXISs.js";import"./utils-CDN07tui.js";import"./index-Ds5WWjjE.js";import"./index-CGIZjBuz.js";import"./index-CNk52wy-.js";import"./index-CzPzUr9r.js";import"./index-r0Cach5g.js";import"./index-BTyV9z74.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],Be=I("mouse-pointer-2",Oe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M11 7 6 2",key:"1jwth8"}],["path",{d:"M18.992 12H2.041",key:"xw1gg"}],["path",{d:"M21.145 18.38A3.34 3.34 0 0 1 20 16.5a3.3 3.3 0 0 1-1.145 1.88c-.575.46-.855 1.02-.855 1.595A2 2 0 0 0 20 22a2 2 0 0 0 2-2.025c0-.58-.285-1.13-.855-1.595",key:"1nkol4"}],["path",{d:"m8.5 4.5 2.148-2.148a1.205 1.205 0 0 1 1.704 0l7.296 7.296a1.205 1.205 0 0 1 0 1.704l-7.592 7.592a3.615 3.615 0 0 1-5.112 0l-3.888-3.888a3.615 3.615 0 0 1 0-5.112L5.67 7.33",key:"1nk1rd"}]],Me=I("paint-bucket",De);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Ue=I("type",$e),ze=({veiculo:T,seats:l=[],onSave:D})=>{const[re,_]=u.useState(!1),[E,d]=u.useState(!0),[k,le]=u.useState("Left"),[m,V]=u.useState("LOWER"),[W,M]=u.useState({LOWER:{rows:8,cols:5},UPPER:{rows:8,cols:5}}),F=W[m].rows,j=W[m].cols,oe=t=>{M(r=>({...r,[m]:{...r[m],rows:t}}))},ne=t=>{M(r=>({...r,[m]:{...r[m],cols:t}}))},[C,y]=u.useState([]),[A,S]=u.useState([]),[v,G]=u.useState("NUMBER"),[H,de]=u.useState(b.CONVENCIONAL),[Q,Y]=u.useState({}),[q,ie]=u.useState({}),$={[b.CONVENCIONAL]:"bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600",[b.EXECUTIVO]:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700",[b.SEMI_LEITO]:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700",[b.LEITO]:"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-700",[b.CAMA]:"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-700",[b.CAMA_MASTER]:"bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-700",[b.BLOQUEADO]:"bg-amber-100 dark:bg-amber-900/30 border-amber-300 dark:border-amber-700"};u.useEffect(()=>{ce()},[l]);const ce=()=>{if(!(!l||l.length===0))try{let t=0,r=0,c=0,n=0;const i={};l.forEach(s=>{s.posicao_x<0||s.posicao_y<0||(!s.disabled&&!s.numero.startsWith("DISABLED_")&&(s.andar===1?(s.posicao_y>t&&(t=s.posicao_y),s.posicao_x>r&&(r=s.posicao_x)):(s.posicao_y>c&&(c=s.posicao_y),s.posicao_x>n&&(n=s.posicao_x))),s.numero&&!s.numero.startsWith("DISABLED_")&&(i[s.numero]=s.tipo))}),Y(i),M({LOWER:{rows:t+1,cols:r+1},UPPER:{rows:c+1,cols:n+1}});const o=l.some(s=>s.andar===2);_(o);const a=Array(t+1).fill(null).map(()=>Array(r+1).fill("")),x=o?Array(c+1).fill(null).map(()=>Array(n+1).fill("")):[];l.forEach(s=>{const h=s.andar===1?a:x,N=s.andar===1?t:c,L=s.andar===1?r:n;h&&h.length>0&&s.posicao_y>=0&&s.posicao_y<=N&&s.posicao_x>=0&&s.posicao_x<=L&&h[s.posicao_y]&&(s.disabled||s.numero&&s.numero.startsWith("DISABLED_")?h[s.posicao_y][s.posicao_x]="":h[s.posicao_y][s.posicao_x]=s.numero||"")});const p={};l.forEach(s=>{s.numero&&(p[s.numero]=s.status)}),ie(p);const f=s=>{if(!s||s.length===0)return;const h=s[0].length;for(let N=0;N<h;N++){let L=!0;for(let g=0;g<s.length;g++)if(s[g][N]!==""&&s[g][N]!=="Driver"){L=!1;break}if(L)for(let g=0;g<s.length;g++)s[g][N]="Blank"}};f(a),o&&f(x),y(a),S(x)}catch(t){console.error("Error loading saved seats:",t)}},K=(t=!1)=>{const r=[],c="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<F;n++){const i=[],o=c[n];for(let a=0;a<j;a++)if(a===Math.floor(j/2))i.push("Blank");else{const x=a<Math.floor(j/2)?a+1:a,p=t?"S":"T";i.push(`${p}${o}${x}`)}r.push(i)}t?S(r):y(r)},xe=(t=!1)=>{const r=t?A:C,c=t?S:y,i="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[r.length],o=[];for(let a=0;a<j;a++)if(a===Math.floor(j/2))o.push("Blank");else{const x=a<Math.floor(j/2)?a+1:a,p=t?"S":"T";o.push(`${p}${i}${x}`)}c([...r,o])},me=(t,r=!1)=>{const c=r?A:C,n=r?S:y,i=c.filter((o,a)=>a!==t);n(i)},ue=(t,r,c,n=!1)=>{const i=n?A:C,o=n?S:y,a=i.map((x,p)=>p===t?x.map((f,s)=>s===r?c:f):x);o(a)},pe=t=>{v==="TYPE"&&t!=="Blank"&&Y(r=>({...r,[t]:H}))},X=t=>Q[t]||b.CONVENCIONAL,be=()=>{const t=[],r=(c,n)=>{c.forEach((i,o)=>{i.forEach((a,x)=>{if(a==="Blank"||a==="Driver")return;const p=a.trim()==="",f=Q[a]||b.CONVENCIONAL,s=f===b.BLOQUEADO,h=p;t.push({numero:p?`DISABLED_D${n}_R${o}_C${x}`:a.trim(),andar:n,posicao_x:x,posicao_y:o,tipo:f,status:s||h?ae.BLOQUEADO:q[a.trim()]||ae.LIVRE,disabled:h})})})};r(C,1),T.is_double_deck&&r(A,2),D?D(t):(console.log("Assentos salvos:",t),alert("Configuração salva com sucesso! (Verifique o console)"))},Z=(t,r=!1,c)=>t.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:e.jsxs("p",{children:['Clique em "Gerar Assentos" para criar o layout do ',c]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"overflow-x-auto pb-4 pr-16",children:e.jsxs("div",{className:"space-y-3 min-w-max flex flex-col items-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"inline-block px-6 py-2 bg-slate-200 dark:bg-slate-700 rounded-lg",children:e.jsxs("p",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[e.jsx(Ee,{size:20}),"Frente do Ônibus"]})})}),t.map((n,i)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-[42px] flex-shrink-0 opacity-0 pointer-events-none","aria-hidden":"true"}),n.map((o,a)=>{const x=o.trim()==="";return o==="Blank"?e.jsx("div",{className:"w-14 h-14 flex items-center justify-center",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-50/50 dark:bg-slate-800/30 border-x-2 border-dashed border-slate-200 dark:border-slate-700 rounded-sm",children:e.jsx("span",{className:"text-[9px] text-slate-300 dark:text-slate-600 font-bold tracking-widest rotate-90 select-none whitespace-nowrap",children:"CORREDOR"})})},a):x&&v!=="NUMBER"?e.jsx("div",{className:"w-14 h-14 flex items-center justify-center",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100 dark:bg-slate-700 border-2 border-slate-300 dark:border-slate-600 rounded-lg opacity-50",children:e.jsx(z,{size:20,className:"text-slate-400 dark:text-slate-500"})})},a):e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>pe(o),children:[e.jsx("div",{className:`w-14 h-14 rounded-lg transition-all duration-200 border-2 shadow-sm flex items-center justify-center ${$[X(o)]} ${v==="TYPE"?"hover:ring-2 hover:ring-offset-2 ring-blue-500":""}`,children:v==="NUMBER"?e.jsx("input",{type:"text",value:o,onChange:f=>ue(i,a,f.target.value,r),className:"w-full h-full bg-transparent text-center text-sm font-bold text-slate-700 dark:text-slate-200 focus:outline-none",placeholder:"..."}):e.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 select-none",children:o})}),e.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-[12px] px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10",children:x||q[o]==="BLOQUEADO"?"BLOQUEADO":X(o).replace("_"," ")})]},a)}),e.jsx("div",{className:"flex gap-2 flex-shrink-0 ml-4 opacity-50 hover:opacity-100 transition-opacity w-[42px] justify-center",children:e.jsx("button",{onClick:()=>me(i,r),className:"p-2 bg-slate-100 hover:bg-red-100 text-slate-400 hover:text-red-600 rounded-lg transition-colors border border-slate-200 hover:border-red-200",title:"Deletar linha",children:e.jsx(z,{size:16})})})]},i))]})}),e.jsxs("button",{onClick:()=>xe(r),className:"w-full px-4 py-3 border-2 border-dashed border-slate-300 dark:border-slate-600 hover:border-blue-500 dark:hover:border-blue-400 text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-xl font-medium transition-all flex items-center justify-center gap-2 group",children:[e.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30 p-1 rounded-full transition-colors",children:e.jsx(U,{size:16})}),"Adicionar Nova Linha"]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-1",children:"Configuração de Assentos"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Configure o layout dos assentos do ônibus."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Tipo de Plano ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"w-full p-2 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500",value:E?"Com Plano de Assentos":"Sem Plano de Assentos",onChange:t=>d(t.target.value==="Com Plano de Assentos"),children:[e.jsx("option",{value:"Com Plano de Assentos",children:"Com Plano de Assentos"}),e.jsx("option",{value:"Sem Plano de Assentos",children:"Sem Plano de Assentos"})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Selecione o tipo de plano - Padrão: Sem Plano de Assentos"})]}),E?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[e.jsxs("button",{onClick:()=>V("LOWER"),className:`
                                    group inline-flex items-center py-4 px-1 border-b-2 font-bold text-lg transition-all duration-200
                                    ${m==="LOWER"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-300"}
                                `,children:[e.jsx("span",{className:`flex items-center justify-center w-6 h-6 rounded-full mr-3 text-xs ${m==="LOWER"?"bg-blue-100 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400":"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400 group-hover:bg-slate-200 dark:group-hover:bg-slate-700"}`,children:"1"}),"Andar Térreo"]}),T.is_double_deck&&e.jsxs("button",{onClick:()=>V("UPPER"),className:`
                                        group inline-flex items-center py-4 px-1 border-b-2 font-bold text-lg transition-all duration-200
                                        ${m==="UPPER"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-300"}
                                    `,children:[e.jsx("span",{className:`flex items-center justify-center w-6 h-6 rounded-full mr-3 text-xs ${m==="UPPER"?"bg-purple-100 text-purple-600 dark:bg-purple-900/50 dark:text-blue-400":"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400 group-hover:bg-slate-200 dark:group-hover:bg-slate-700"}`,children:"2"}),"Andar Superior"]})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm p-6 mb-6",children:[e.jsxs("h4",{className:"font-bold text-slate-700 dark:text-slate-200 mb-4",children:["Parâmetros de Geração (",m==="LOWER"?"Térreo":"Superior",")"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Posição do Motorista"}),e.jsxs("select",{value:k,onChange:t=>le(t.target.value),className:"w-full p-2 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Left",children:"Esquerda"}),e.jsx("option",{value:"Right",children:"Direita"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Linhas de Assentos"}),e.jsx("input",{type:"number",value:F,onChange:t=>oe(parseInt(t.target.value)||0),min:"1",max:"20",className:"w-full p-2 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Colunas de Assentos"}),e.jsx("input",{type:"number",value:j,onChange:t=>ne(parseInt(t.target.value)||0),min:"3",max:"7",step:"2",className:"w-full p-2 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Use números ímpares (3, 5, 7) para corredor central"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 border-b border-slate-100 dark:border-slate-700 pb-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[e.jsx(Be,{size:18,className:"text-blue-500"}),"Ferramentas de Edição"]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Escolha uma ferramenta para interagir com o mapa"})]}),e.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-lg",children:[e.jsxs("button",{onClick:()=>G("NUMBER"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 ${v==="NUMBER"?"bg-white dark:bg-slate-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:[e.jsx(Ue,{size:16}),"Numeração"]}),e.jsxs("button",{onClick:()=>G("TYPE"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 ${v==="TYPE"?"bg-white dark:bg-slate-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:[e.jsx(Me,{size:16}),"Tipos"]})]})]}),v==="TYPE"&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 bg-slate-50 dark:bg-slate-900/50 p-4 rounded-lg border border-slate-100 dark:border-slate-700/50",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Selecione um tipo de assento para aplicar:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.values(b).map(t=>e.jsxs("button",{onClick:()=>de(t),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all flex items-center gap-2 ${H===t?"ring-2 ring-blue-500 ring-offset-2 "+$[t]:"hover:bg-white dark:hover:bg-slate-800 border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300"}`,children:[e.jsx("div",{className:`w-3 h-3 rounded-full border border-slate-300 ${$[t].split(" ")[0]}`}),t.replace("_"," ")]},t))})]})]}),m==="LOWER"&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-left-2 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Mapa do Andar Térreo"}),e.jsxs("button",{onClick:()=>K(!1),className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-semibold transition-all shadow-sm hover:shadow-md flex items-center gap-2",children:[e.jsx(U,{size:18}),"Gerar Assentos Térreo"]})]}),Z(C,!1,"andar térreo")]}),m==="UPPER"&&T.is_double_deck&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-right-2 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Mapa do Andar Superior"}),e.jsxs("button",{onClick:()=>K(!0),className:"px-6 py-2.5 bg-purple-600 hover:bg-purple-500 text-white rounded-lg font-semibold transition-all shadow-sm hover:shadow-md flex items-center gap-2",children:[e.jsx(U,{size:18}),"Gerar Assentos Superior"]})]}),Z(A,!0,"andar superior")]})]})]}):e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-8 text-center border border-slate-200 dark:border-slate-700 border-dashed",children:[e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-2",children:"Este veículo opera sem lugares marcados."}),e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"A capacidade total será usada para controle de lotação."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("button",{onClick:()=>{confirm("Tem certeza que deseja limpar todos os assentos?")&&(y([]),S([]))},className:"px-6 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[e.jsx(z,{size:18}),"Limpar Tudo"]}),e.jsxs("button",{onClick:be,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg font-semibold transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Se,{size:18}),"Salvar Configuração"]})]})]})},hs=he(function(){var E;const{vehicle:l}=fe(),[D,re]=u.useState("info"),_=l.tipo==="ONIBUS";return e.jsxs("div",{className:"p-8 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700 pb-20",children:[e.jsx(we,{title:l.placa,subtitle:`${l.modelo} ${l.is_double_deck?"• DOUBLE DECK":""}`,backLink:"/admin/fleet",rightElement:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(J,{variant:"outline",asChild:!0,className:"h-14 rounded-xl px-6 font-bold uppercase text-[12px] border-border/50",children:e.jsxs(ge,{to:`/admin/fleet/edit/${l.id}`,children:[e.jsx(Ce,{size:18,className:"mr-2"})," Editar Ficha"]})}),e.jsx(J,{className:"h-14 rounded-xl px-8 bg-primary font-bold uppercase text-[12px] shadow-lg shadow-primary/20",children:"BAIXAR RELATÓRIO TÉCNICO"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(O,{title:"KM Atual",value:((E=l.km_atual)==null?void 0:E.toLocaleString())||"0",icon:Ae,variant:"primary"}),e.jsx(O,{title:"Status",value:l.status,icon:Te,variant:l.status===ye.ACTIVE?"emerald":"indigo"}),e.jsx(O,{title:"Capacidade",value:`${l.capacity||0} Lugares`,icon:_e,variant:"blue"}),e.jsx(O,{title:"Próxima Revisão",value:`${(l.km_atual||0)+1e4} km`,icon:Le,variant:"amber"})]}),e.jsx(ve,{defaultValue:"info",className:"w-full",children:e.jsxs(ke,{className:"rounded-[40px] border-none shadow-2xl bg-card/40 backdrop-blur-sm overflow-hidden",children:[e.jsx("div",{className:"px-8 pt-8",children:e.jsxs(Ne,{className:"bg-muted/40 p-1.5 rounded-2xl h-14 flex w-fit border border-border/50",children:[e.jsx(R,{value:"info",className:"px-8 rounded-xl font-bold uppercase text-[10px] tracking-widest data-[state=active]:bg-background",children:"Informações"}),_&&e.jsx(R,{value:"mapa",className:"px-8 rounded-xl font-bold uppercase text-[10px] tracking-widest data-[state=active]:bg-background",children:"Mapa Assentos"}),e.jsx(R,{value:"manutencao",className:"px-8 rounded-xl font-bold uppercase text-[10px] tracking-widest data-[state=active]:bg-background",children:"Manutenção"}),e.jsx(R,{value:"historico",className:"px-8 rounded-xl font-bold uppercase text-[10px] tracking-widest data-[state=active]:bg-background",children:"Histórico"})]})}),e.jsxs("div",{className:"p-8",children:[e.jsx(P,{value:"info",className:"mt-0 space-y-10 animate-in fade-in duration-500",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-[12px] font-black uppercase tracking-widest text-muted-foreground flex items-center gap-2",children:[e.jsx(Re,{size:16,className:"text-primary"})," Ficha Técnica"]}),e.jsx("div",{className:"space-y-4",children:[{label:"Chassi",value:l.chassi},{label:"Renavam",value:l.renavam},{label:"Ano Modelo",value:l.ano},{label:"Fabricante",value:"MERCEDES-BENZ"}].map(d=>e.jsxs("div",{className:"flex justify-between border-b border-border/30 pb-3",children:[e.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase",children:d.label}),e.jsx("span",{className:"text-sm font-black",children:d.value||"---"})]},d.label))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-[12px] font-black uppercase tracking-widest text-muted-foreground flex items-center gap-2",children:[e.jsx(Pe,{size:16,className:"text-primary"})," Equipamentos"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Ar Condicionado","Wi-Fi","USB","Toilet","Monitor TV"].map(d=>e.jsxs("div",{className:"p-4 rounded-2xl bg-muted/20 border border-border/30 text-[11px] font-bold uppercase flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),d]},d))})]})]})}),_&&e.jsx(P,{value:"mapa",className:"mt-0 animate-in fade-in duration-500",children:e.jsx(ze,{veiculo:l,seats:l.seats,onSave:()=>{}})}),e.jsx(P,{value:"manutencao",className:"mt-0 animate-in fade-in duration-500",children:e.jsxs(ee,{children:[e.jsx(se,{className:"bg-muted/30",children:e.jsxs(B,{className:"h-14 border-border/50",children:[e.jsx(w,{className:"px-6 text-[10px] font-black uppercase",children:"Data"}),e.jsx(w,{className:"text-[10px] font-black uppercase",children:"Serviço"}),e.jsx(w,{className:"text-[10px] font-black uppercase",children:"KM"}),e.jsx(w,{className:"text-right px-6 text-[10px] font-black uppercase",children:"Status"})]})}),e.jsx(te,{children:l.maintenances.map(d=>{var k;return e.jsxs(B,{className:"h-16 border-border/30 hover:bg-muted/10 transition-colors",children:[e.jsx("td",{className:"px-6 text-sm font-bold",children:d.scheduledDate}),e.jsxs("td",{className:"text-sm font-black uppercase",children:[d.type," ",e.jsx("span",{className:"text-[10px] font-medium text-muted-foreground block",children:d.description})]}),e.jsxs("td",{className:"text-sm font-bold",children:[(k=d.km_veiculo)==null?void 0:k.toLocaleString()," km"]}),e.jsx("td",{className:"px-6 text-right",children:e.jsx(je,{variant:"outline",className:"rounded-lg",children:d.status})})]},d.id)})})]})}),e.jsx(P,{value:"historico",className:"mt-0 animate-in fade-in duration-500",children:e.jsxs(ee,{children:[e.jsx(se,{className:"bg-muted/30",children:e.jsxs(B,{className:"h-14 border-border/50",children:[e.jsx(w,{className:"px-6 text-[10px] font-black uppercase",children:"Data"}),e.jsx(w,{className:"text-[10px] font-black uppercase",children:"Rota"}),e.jsx(w,{className:"text-right px-6 text-[10px] font-black uppercase",children:"Ocupação"})]})}),e.jsx(te,{children:l.trips.map(d=>{var k;return e.jsxs(B,{className:"h-16 border-border/30 hover:bg-muted/10 transition-colors",children:[e.jsx("td",{className:"px-6 text-sm font-bold",children:d.departure_date}),e.jsx("td",{className:"text-sm font-black uppercase",children:(k=d.route)==null?void 0:k.name}),e.jsx("td",{className:"px-6 text-right text-xs font-bold",children:"100%"})]},d.id)})})]})})]})]})})]})});export{hs as default};
