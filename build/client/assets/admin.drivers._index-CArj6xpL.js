import{a as w,w as I,u as O,c as V,L as B}from"./chunk-JZWAC4HX-DumfKpwM.js";import{r as h,j as e}from"./forgot-password-Cd1Knve9.js";import{u as M}from"./useDateFormatter-CNVcwzUI.js";import{D as r,l as _}from"./types-DFYgxmzW.js";import{T as F,a as R,b as N,c as m,d as H,e as x}from"./table-B8EXJzV4.js";import{B as P}from"./badge-OnEQOSZY.js";import{B as p}from"./button-D5icbzZz.js";import{I as W}from"./input-emgR2opu.js";import{C as z}from"./card-Cg68uFrF.js";import{T as U,a as $,b as g}from"./tabs-C5PlI2Of.js";import{P as q}from"./PageHeader-BWRrOg2b.js";import{D as u}from"./DashboardCard-CAo4eudV.js";import{L as X}from"./ListFilterSection-C2yv81r0.js";import{c as G}from"./utils-CDN07tui.js";import{D as Y,a as J,b as K,e as Q,c as b,d as Z}from"./dropdown-menu-CNNo2K3q.js";import{D as ee,a as se,b as re,c as ae,d as te,e as oe}from"./dialog-GXWVtUJA.js";import{E as ie}from"./ellipsis-DBh4irOy.js";import{E as le}from"./eye-D6sHawNO.js";import{S as ne}from"./square-pen-DbBn1E1l.js";import{T as ce}from"./trash-2-BO5CKzGP.js";import{T as de}from"./triangle-alert-ChAdqAq2.js";import{L as me}from"./loader-circle-ic6ikmbW.js";import{c as xe}from"./createLucideIcon-C45Xejds.js";import{P as ue}from"./plus-D5F9e-Lx.js";import{U as v}from"./user-BQEge37k.js";import{C as D}from"./circle-check-big-I14bXISs.js";import{C}from"./clock-BRAlDuTD.js";import{C as j}from"./calendar-B2-DO3Xm.js";import{S as pe}from"./search-CnuVL9vz.js";import{C as he}from"./circle-x-Bi7UYLIw.js";import"./AppContext-CqFrqiNi.js";import"./reset-password-P0kMDf4s.js";import"./pt-BR-Dxhrr4Mm.js";import"./format-Teop82l3.js";import"./index-Ds5WWjjE.js";import"./index-CGIZjBuz.js";import"./index-CNk52wy-.js";import"./index-CzPzUr9r.js";import"./index-r0Cach5g.js";import"./index-BTyV9z74.js";import"./Combination-Bzd-zPU3.js";import"./index-BDGasEjq.js";import"./chevron-right-DQu5sotq.js";import"./check-DPa0jV58.js";import"./circle-Inv2uPuq.js";import"./index-BCt1EX5H.js";import"./x-CitWcJvG.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ge=xe("circle-user",fe),be=({motorista:a,onUpdate:i})=>{const l=w(),[c,t]=h.useState(!1),[d,n]=h.useState(!1),f=async()=>{n(!0);try{if(!(await fetch(`https://api.yourdomain.com/api/drivers/${a.id}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Falha ao excluir");i&&i()}catch(o){console.error("Erro ao excluir:",o),alert("Erro ao excluir motorista")}finally{n(!1),t(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{children:[e.jsx(J,{asChild:!0,children:e.jsxs(p,{variant:"ghost",className:"h-10 w-10 p-0 rounded-xl hover:bg-primary/10 hover:text-primary transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Abrir menu"}),e.jsx(ie,{className:"h-5 w-5",strokeWidth:2.5})]})}),e.jsxs(K,{align:"end",className:"w-56 p-2 rounded-2xl shadow-2xl border-none bg-card/95 backdrop-blur-md",children:[e.jsx(Q,{className:"text-[12px] font-black uppercase tracking-widest text-muted-foreground px-3 py-2",children:"Operações"}),e.jsxs(b,{onClick:()=>l(`/admin/motoristas/${a.id}`),className:"rounded-xl px-3 py-2.5 font-bold focus:bg-primary focus:text-primary-foreground gap-3",children:[e.jsx(le,{className:"h-4 w-4"}),"Ver Detalhes"]}),e.jsxs(b,{onClick:()=>l(`/admin/motoristas/${a.id}/editar`),className:"rounded-xl px-3 py-2.5 font-bold focus:bg-primary focus:text-primary-foreground gap-3",children:[e.jsx(ne,{className:"h-4 w-4"}),"Editar Registro"]}),e.jsx(Z,{className:"bg-border/50 my-2"}),e.jsxs(b,{onClick:()=>t(!0),className:"rounded-xl px-3 py-2.5 font-bold text-destructive focus:bg-destructive focus:text-destructive-foreground gap-3",children:[e.jsx(ce,{className:"h-4 w-4"}),"Excluir Motorista"]})]})]}),e.jsx(ee,{open:c,onOpenChange:t,children:e.jsxs(se,{className:"rounded-[2rem] border-none shadow-2xl max-w-sm p-8 bg-card/95 backdrop-blur-md",children:[e.jsxs(re,{className:"space-y-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"h-8 w-8 text-destructive",strokeWidth:2.5})}),e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx(ae,{className:"text-2xl font-black tracking-tight",children:"Confirmar Exclusão"}),e.jsxs(te,{className:"font-medium text-muted-foreground leading-relaxed",children:["Você tem certeza que deseja excluir o motorista ",e.jsx("strong",{className:"text-foreground",children:a.nome}),"?",e.jsx("br",{}),e.jsx("span",{className:"text-xs uppercase font-black tracking-widest opacity-50 text-destructive",children:"Esta ação é irreversível"})]})]})]}),e.jsxs(oe,{className:"mt-8 flex-col sm:flex-col gap-3",children:[e.jsx(p,{variant:"destructive",onClick:f,disabled:d,className:"w-full h-12 rounded-2xl font-black tracking-tighter text-base shadow-lg shadow-destructive/20 active:scale-95 transition-all",children:d?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"mr-2 h-5 w-5 animate-spin"}),"EXCLUINDO..."]}):"EXCLUIR DEFINITIVAMENTE"}),e.jsx(p,{variant:"ghost",onClick:()=>t(!1),disabled:d,className:"w-full h-12 rounded-2xl font-black tracking-tighter text-muted-foreground hover:bg-muted/50 transition-all",children:"CANCELAR"})]})]})})]})},je=({status:a})=>{const i={[r.AVAILABLE]:{className:"bg-emerald-500/10 text-emerald-600 border-emerald-500/20",icon:D},[r.IN_TRANSIT]:{className:"bg-blue-500/10 text-blue-600 border-blue-500/20",icon:C},[r.ON_LEAVE]:{className:"bg-amber-500/10 text-amber-600 border-amber-500/20",icon:j},[r.AWAY]:{className:"bg-destructive/10 text-destructive border-destructive/20",icon:he}},l=i[a]||i[r.AVAILABLE],c=l.icon;return e.jsxs(P,{variant:"outline",className:G("gap-1.5 font-bold px-2 py-0.5 rounded-lg",l.className),children:[e.jsx(c,{size:12,strokeWidth:2.5}),_[a]||a]})},us=I(function(){const{drivers:i}=O();V();const l=w(),{formatDate:c}=M(),[t,d]=h.useState(""),[n,f]=h.useState("TODOS"),o=i,y=o.filter(s=>{const A=n==="TODOS"||s.status===n,S=t===""||(s.nome||"").toLowerCase().includes(t.toLowerCase())||(s.cnh||"").includes(t);return A&&S}),k=o.length,T=o.filter(s=>s.status===r.AVAILABLE).length,E=o.filter(s=>s.status===r.IN_TRANSIT).length,L=o.filter(s=>s.status===r.ON_LEAVE).length;return e.jsxs("div",{className:"p-8 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700 pb-10",children:[e.jsx(q,{title:"Gestão de Motoristas",subtitle:"Controle de profissionais e documentação",icon:ge,rightElement:e.jsx(p,{asChild:!0,className:"h-14 px-6 rounded-xl font-semibold shadow-lg shadow-primary/20",children:e.jsxs(B,{to:"/admin/drivers/new",children:[e.jsx(ue,{size:20,className:"mr-2",strokeWidth:3})," NOVO MOTORISTA"]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(u,{title:"Total Registrados",value:k,icon:v,variant:"primary"}),e.jsx(u,{title:"Disponíveis",value:T,icon:D,variant:"emerald"}),e.jsx(u,{title:"Em Viagem",value:E,icon:C,variant:"blue"}),e.jsx(u,{title:"Em Férias/Licença",value:L,icon:j,variant:"amber"})]}),e.jsxs(X,{children:[e.jsxs("div",{className:"space-y-1.5 flex flex-col lg:col-span-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Buscar Motorista"}),e.jsxs("div",{className:"relative group flex-1",children:[e.jsx(pe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(W,{placeholder:"Nome ou CNH...",value:t,onChange:s=>d(s.target.value),className:"pl-12 h-14 bg-muted/40 border-input rounded-xl font-bold"})]})]}),e.jsxs("div",{className:"space-y-1.5 flex flex-col lg:col-span-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Status Operacional"}),e.jsx(U,{value:n,onValueChange:f,className:"w-full",children:e.jsxs($,{className:"bg-muted/40 p-1.5 rounded-xl h-14 flex w-full border border-border/50",children:[e.jsx(g,{value:"TODOS",className:"flex-1 rounded-xl font-black text-[10px] tracking-widest",children:"TODOS"}),e.jsx(g,{value:r.AVAILABLE,className:"flex-1 rounded-xl font-black text-[10px] tracking-widest",children:"Disponíveis"}),e.jsx(g,{value:r.IN_TRANSIT,className:"flex-1 rounded-xl font-black text-[10px] tracking-widest",children:"Viagem"})]})})]})]}),e.jsx(z,{className:"border-none shadow-2xl shadow-muted/20 overflow-hidden rounded-3xl bg-card/50 backdrop-blur-sm",children:e.jsxs(F,{children:[e.jsx(R,{className:"bg-muted/30",children:e.jsxs(N,{className:"hover:bg-transparent border-border/50",children:[e.jsx(m,{className:"pl-8 h-14 text-table-head",children:"Motorista / Documento"}),e.jsx(m,{className:"h-14 text-table-head",children:"Status"}),e.jsx(m,{className:"h-14 text-table-head",children:"Validade CNH"}),e.jsx(m,{className:"pr-8 h-14 text-table-head text-right",children:"Ações"})]})}),e.jsx(H,{children:y.map(s=>e.jsxs(N,{className:"group hover:bg-muted/20 border-border/30 transition-colors",children:[e.jsx(x,{className:"pl-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white shadow-lg transition-transform group-hover:scale-110",children:e.jsx(v,{size:22})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm tracking-tight text-foreground",children:s.nome}),e.jsxs("span",{className:"text-[12px] font-semibold text-primary uppercase",children:["CNH: ",s.cnh]})]})]})}),e.jsx(x,{children:e.jsx(je,{status:s.status})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-semibold text-foreground",children:[e.jsx(j,{className:"w-3.5 h-3.5 text-primary",strokeWidth:3}),c(s.validade_cnh)]})}),e.jsx(x,{className:"pr-8 text-right",children:e.jsx(be,{motorista:s,onUpdate:()=>l(".",{replace:!0})})})]},s.id))})]})})]},"drivers-main")});export{us as default};
