import{r as o,j as l}from"./forgot-password-Cd1Knve9.js";import{a as M}from"./index-CzPzUr9r.js";import{u as S}from"./index-Ds5WWjjE.js";import{P as A}from"./index-BHI_vTdI.js";import{r as $}from"./index-Cu73DSvi.js";import{c as h}from"./utils-CDN07tui.js";function F(e,r=[]){let a=[];function c(t,u){const n=o.createContext(u);n.displayName=t+"Context";const i=a.length;a=[...a,u];const d=f=>{var L;const{scope:m,children:g,...p}=f,x=((L=m==null?void 0:m[e])==null?void 0:L[i])||n,k=o.useMemo(()=>p,Object.values(p));return l.jsx(x.Provider,{value:k,children:g})};d.displayName=t+"Provider";function v(f,m){var x;const g=((x=m==null?void 0:m[e])==null?void 0:x[i])||n,p=o.useContext(g);if(p)return p;if(u!==void 0)return u;throw new Error(`\`${f}\` must be used within \`${t}\``)}return[d,v]}const s=()=>{const t=a.map(u=>o.createContext(u));return function(n){const i=(n==null?void 0:n[e])||t;return o.useMemo(()=>({[`__scope${e}`]:{...n,[e]:i}}),[n,i])}};return s.scopeName=e,[c,H(s,...r)]}function H(...e){const r=e[0];if(e.length===1)return r;const a=()=>{const c=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(t){const u=c.reduce((n,{useScope:i,scopeName:d})=>{const f=i(t)[`__scope${d}`];return{...n,...f}},{});return o.useMemo(()=>({[`__scope${r.scopeName}`]:u}),[u])}};return a.scopeName=r.scopeName,a}var T=$();function q(){return T.useSyncExternalStore(B,()=>!0,()=>!1)}function B(){return()=>{}}var w="Avatar",[G]=F(w),[K,y]=G(w),E=o.forwardRef((e,r)=>{const{__scopeAvatar:a,...c}=e,[s,t]=o.useState("idle");return l.jsx(K,{scope:a,imageLoadingStatus:s,onImageLoadingStatusChange:t,children:l.jsx(A.span,{...c,ref:r})})});E.displayName=w;var N="AvatarImage",_=o.forwardRef((e,r)=>{const{__scopeAvatar:a,src:c,onLoadingStatusChange:s=()=>{},...t}=e,u=y(N,a),n=V(c,t),i=M(d=>{s(d),u.onImageLoadingStatusChange(d)});return S(()=>{n!=="idle"&&i(n)},[n,i]),n==="loaded"?l.jsx(A.img,{...t,ref:r,src:c}):null});_.displayName=N;var R="AvatarFallback",b=o.forwardRef((e,r)=>{const{__scopeAvatar:a,delayMs:c,...s}=e,t=y(R,a),[u,n]=o.useState(c===void 0);return o.useEffect(()=>{if(c!==void 0){const i=window.setTimeout(()=>n(!0),c);return()=>window.clearTimeout(i)}},[c]),u&&t.imageLoadingStatus!=="loaded"?l.jsx(A.span,{...s,ref:r}):null});b.displayName=R;function C(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function V(e,{referrerPolicy:r,crossOrigin:a}){const c=q(),s=o.useRef(null),t=c?(s.current||(s.current=new window.Image),s.current):null,[u,n]=o.useState(()=>C(t,e));return S(()=>{n(C(t,e))},[t,e]),S(()=>{const i=f=>()=>{n(f)};if(!t)return;const d=i("loaded"),v=i("error");return t.addEventListener("load",d),t.addEventListener("error",v),r&&(t.referrerPolicy=r),typeof a=="string"&&(t.crossOrigin=a),()=>{t.removeEventListener("load",d),t.removeEventListener("error",v)}},[t,a,r]),u}var j=E,I=_,P=b;const W=o.forwardRef(({className:e,...r},a)=>l.jsx(j,{ref:a,className:h("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));W.displayName=j.displayName;const z=o.forwardRef(({className:e,...r},a)=>l.jsx(I,{ref:a,className:h("aspect-square h-full w-full",e),...r}));z.displayName=I.displayName;const D=o.forwardRef(({className:e,...r},a)=>l.jsx(P,{ref:a,className:h("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));D.displayName=P.displayName;export{W as A,D as a,z as b};
