import{w as S,u as z,c as L}from"./chunk-JZWAC4HX-DumfKpwM.js";import{r as o,j as e}from"./forgot-password-Cd1Knve9.js";import{P as _}from"./PageHeader-BWRrOg2b.js";import{c as B}from"./utils-CDN07tui.js";import{I as b}from"./input-emgR2opu.js";import{B as i}from"./button-D5icbzZz.js";import{C as g}from"./card-Cg68uFrF.js";import{B as q}from"./badge-OnEQOSZY.js";import{c as N}from"./createLucideIcon-C45Xejds.js";import{P as D}from"./plus-D5F9e-Lx.js";import{B as P}from"./building-LiWpeRJl.js";import{M as T}from"./map-pin-BU3OPG7D.js";import{S as R}from"./search-CnuVL9vz.js";import{X as M}from"./x-CitWcJvG.js";import{L as O}from"./loader-circle-ic6ikmbW.js";import{S as V}from"./square-pen-DbBn1E1l.js";import{T as F}from"./trash-2-BO5CKzGP.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],G=N("flag",$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],j=N("layers",I),de=S(function(){const{states:d,cities:c,neighborhoods:v}=z(),n=L(),[a,y]=o.useState("territories"),[m,w]=o.useState(""),[k,l]=o.useState(!1),[r,u]=o.useState(null),C=()=>{u(null),l(!0)},A=s=>{u(s),l(!0)},E=()=>{let s=[];a==="territories"&&(s=d),a==="cities"&&(s=c),a==="neighborhoods"&&(s=v);const x=s.filter(t=>(t.name||t.nome||"").toLowerCase().includes(m.toLowerCase()));return e.jsx("div",{className:"divide-y divide-border/30",children:x.length===0?e.jsxs("div",{className:"p-24 text-center",children:[e.jsx(j,{size:64,className:"mx-auto mb-6 text-muted-foreground/20"}),e.jsx("p",{className:"font-black text-muted-foreground uppercase tracking-widest text-sm",children:"Nenhum registro encontrado"})]}):x.map(t=>{var p,h,f;return e.jsxs("div",{className:"p-8 hover:bg-muted/30 transition-all flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary font-black uppercase shadow-sm",children:((p=t.name)==null?void 0:p.charAt(0))||t.uf}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-black text-lg tracking-tight",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{variant:"outline",className:"text-[10px] font-black uppercase tracking-widest border-none bg-muted px-2 py-0.5",children:a==="territories"?"ESTADO":a==="cities"?`ESTADO: ${(h=t.state)==null?void 0:h.uf}`:`CIDADE: ${(f=t.city)==null?void 0:f.name}`}),t.uf&&e.jsx("span",{className:"text-[10px] font-black text-primary uppercase tracking-[0.2em]",children:t.uf})]})]})]}),e.jsx("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a!=="territories"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>A(t),className:"h-10 w-10 rounded-xl hover:bg-primary/10 hover:text-primary",children:e.jsx(V,{size:18})}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>n.submit({intent:"delete",id:t.id.toString(),type:a},{method:"post"}),className:"h-10 w-10 rounded-xl hover:bg-destructive/10 text-destructive",children:e.jsx(F,{size:18})})]})})]},t.id)})})};return e.jsxs("div",{className:"p-8 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700 pb-10",children:[e.jsx(_,{title:"Cadastros Auxiliares",subtitle:"Gestão de territórios, cidades e parâmetros do ecossistema",icon:j,rightElement:a!=="territories"&&e.jsxs(i,{onClick:C,className:"h-14 px-8 rounded-xl font-black uppercase text-[12px] tracking-widest shadow-lg shadow-primary/20",children:[e.jsx(D,{size:18,className:"mr-2",strokeWidth:3})," NOVO REGISTRO"]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-between items-end",children:[e.jsx("div",{className:"flex bg-muted/40 p-1.5 rounded-2xl border border-border/50 h-14 w-full md:w-fit gap-2",children:[{id:"territories",label:"Estados",icon:G},{id:"cities",label:"Cidades",icon:P},{id:"neighborhoods",label:"Bairros",icon:T}].map(s=>e.jsxs("button",{onClick:()=>y(s.id),className:B("flex-1 md:flex-none px-6 h-full text-[10px] font-black uppercase tracking-widest transition-all rounded-xl flex items-center gap-2",a===s.id?"bg-background text-primary shadow-lg":"text-muted-foreground hover:bg-muted/30"),children:[e.jsx(s.icon,{size:14,strokeWidth:a===s.id?2.5:2}),s.label]},s.id))}),e.jsxs("div",{className:"relative w-full md:w-96 group",children:[e.jsx(R,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors"}),e.jsx(b,{placeholder:`Buscar em ${a}...`,value:m,onChange:s=>w(s.target.value),className:"w-full h-14 pl-12 bg-card/60 border-none rounded-xl font-bold shadow-sm"})]})]}),e.jsx(g,{className:"shadow-2xl shadow-muted/20 bg-card/50 backdrop-blur-sm border-none rounded-[2.5rem] overflow-hidden",children:E()}),k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(g,{className:"w-full max-w-xl bg-card border-none rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tighter",children:[r?"Editar":"Novo"," ",a==="cities"?"Cidade":"Bairro"]}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>l(!1),className:"rounded-xl",children:e.jsx(M,{size:20})})]}),e.jsxs(n.Form,{method:"post",className:"space-y-6",children:[e.jsx("input",{type:"hidden",name:"intent",value:"save"}),e.jsx("input",{type:"hidden",name:"type",value:a}),r&&e.jsx("input",{type:"hidden",name:"id",value:r.id}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Nome"}),e.jsx(b,{name:"name",defaultValue:r==null?void 0:r.name,required:!0,className:"h-14 rounded-xl bg-muted/40"})]}),a==="cities"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Estado"}),e.jsxs("select",{name:"state_id",defaultValue:r==null?void 0:r.state_id,className:"w-full h-14 px-4 bg-muted/40 border border-border/50 rounded-xl font-bold outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Selecione..."}),d.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.uf,")"]},s.id))]})]}),a==="neighborhoods"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Cidade"}),e.jsxs("select",{name:"city_id",defaultValue:r==null?void 0:r.city_id,className:"w-full h-14 px-4 bg-muted/40 border border-border/50 rounded-xl font-bold outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Selecione..."}),c.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>l(!1),className:"flex-1 h-14 rounded-2xl font-black uppercase text-xs tracking-widest",children:"CANCELAR"}),e.jsx(i,{type:"submit",className:"flex-1 h-14 rounded-2xl bg-primary text-primary-foreground font-black uppercase text-xs tracking-widest shadow-lg shadow-primary/20",children:n.state!=="idle"?e.jsx(O,{className:"animate-spin"}):"SALVAR REGISTRO"})]})]})]})})]},"aux-main")});export{de as default};
