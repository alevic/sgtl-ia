const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/reset-password-P0kMDf4s.js","assets/forgot-password-Cd1Knve9.js"])))=>i.map(i=>d[i]);
import{h as P,L as R,a as M,w as A,O as L}from"./chunk-JZWAC4HX-DumfKpwM.js";import{j as e,r as E,a as U}from"./forgot-password-Cd1Knve9.js";import{u as w,A as O}from"./AppContext-CqFrqiNi.js";import{E as p}from"./types-DFYgxmzW.js";import{c as b}from"./utils-CDN07tui.js";import{B as y}from"./bus-D0L2JeBO.js";import{c as h}from"./createLucideIcon-C45Xejds.js";import{T as D}from"./ticket-DleTbqHz.js";import{U as f}from"./users-BFoA2Uj7.js";import{M as I}from"./map-pin-BU3OPG7D.js";import{T as N}from"./truck-DjqGUVW-.js";import{P as $}from"./package-CA3PlPAx.js";import{W as B}from"./wrench-sIQVKmUa.js";import{C as F}from"./credit-card-CZ_EN1c_.js";import{T as V}from"./trending-up-BKzFUhqw.js";import{F as W}from"./file-text-BwHme3NP.js";import{B as G}from"./building-2-gEJPO4Fu.js";import{C as q}from"./chevron-right-DQu5sotq.js";import{a as k}from"./reset-password-P0kMDf4s.js";import{S as H,a as X,b as Y,c as J,d as K}from"./select-PWih0cLE.js";import{A as Q,b as Z,a as ee}from"./avatar-NOAFfuWM.js";import{D as re,a as te,b as se,e as oe,c as v,d as C}from"./dropdown-menu-CNNo2K3q.js";import{B as S}from"./button-D5icbzZz.js";import{S as ae}from"./separator-CWBAEyCK.js";import{S as ne}from"./search-CnuVL9vz.js";import{C as ie}from"./chevron-down-Dfyi3Exh.js";import{U as le}from"./user-BQEge37k.js";import{M as ce}from"./moon-BYP2SUiN.js";import{L as de}from"./loader-circle-ic6ikmbW.js";import"./index-r0Cach5g.js";import"./index-Ds5WWjjE.js";import"./index-CNk52wy-.js";import"./Combination-Bzd-zPU3.js";import"./index-CzPzUr9r.js";import"./index-BDGasEjq.js";import"./index-COQIOskD.js";import"./check-DPa0jV58.js";import"./index-BHI_vTdI.js";import"./index-Cu73DSvi.js";import"./index-BTyV9z74.js";import"./index-CGIZjBuz.js";import"./circle-Inv2uPuq.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xe=h("bell",me);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],pe=h("database",ue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ge=h("layout-dashboard",he);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fe=h("log-out",be);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],je=h("menu",ve);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z=h("settings",ye);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],we=h("sun",ke),s=({icon:a,label:i,to:n,activeColor:l})=>{const x=P(),r=x.pathname===n||x.pathname.startsWith(`${n}/`),t={blue:"text-primary bg-primary/10 shadow-[0_0_15px_-3px_rgba(59,130,246,0.3)] hover:bg-primary/20",orange:"text-orange-600 bg-orange-500/10 shadow-[0_0_15px_-3px_rgba(234,88,12,0.3)] hover:bg-orange-500/20"}[l]||"bg-accent text-accent-foreground";return e.jsxs(R,{to:n,className:b("flex items-center gap-3 px-4 py-2.5 mx-3 rounded-xl cursor-pointer transition-all duration-300 group mb-1 relative overflow-hidden",r?t:"text-muted-foreground/70 hover:bg-accent/40 hover:text-foreground hover:translate-x-1"),children:[r&&e.jsx("span",{className:b("absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 rounded-r-full",l==="blue"?"bg-primary":"bg-orange-600")}),e.jsx(a,{size:18,className:b("transition-all duration-300 group-hover:scale-110 group-hover:rotate-3",r?"stroke-[2.5px]":"opacity-70 group-hover:opacity-100")}),e.jsx("span",{className:b("text-sm font-bold tracking-tight transition-colors",r?"font-black":"font-semibold"),children:i}),!r&&e.jsx(q,{size:14,className:"ml-auto opacity-0 -translate-x-2 group-hover:opacity-40 group-hover:translate-x-0 transition-all duration-300"})]})},Ne=()=>{const{currentContext:a,isSidebarOpen:i,systemSettings:n,user:l}=w(),x=l.role,r=a===p.TURISMO?"blue":"orange";if(!i)return null;const d=t=>t.includes(x);return e.jsxs("div",{className:"w-64 h-screen bg-card/95 backdrop-blur-xl border-r border-border/50 flex flex-col sticky top-0 left-0 shrink-0 transition-all duration-300 z-50 shadow-2xl shadow-black/5",children:[e.jsxs("div",{className:"h-20 flex items-center px-6 mb-6",children:[e.jsx("div",{className:b("w-11 h-11 rounded-2xl flex items-center justify-center text-white font-black mr-3 shadow-2xl transition-all duration-500 hover:scale-110 hover:rotate-6 active:scale-95 group",a===p.TURISMO?"bg-gradient-to-br from-primary to-blue-700 shadow-primary/40":"bg-gradient-to-br from-orange-500 to-orange-700 shadow-orange-600/40"),children:e.jsx(y,{size:24,strokeWidth:2.5,className:"group-hover:animate-bounce"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-foreground text-lg leading-tight uppercase tracking-tighter",children:n.system_name||"SGTL"}),e.jsx("span",{className:"text-[12px] font-bold text-muted-foreground/60 tracking-[0.2em] -mt-1 uppercase",children:n.system_display_version||"v2.2"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-1",children:[e.jsx(s,{icon:ge,label:"Dashboard",to:"/admin/dashboard",activeColor:r}),e.jsx("div",{className:"mt-2 px-6 py-3 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Principal"}),a===p.TURISMO&&e.jsxs(e.Fragment,{children:[e.jsx(s,{icon:y,label:"Viagens",to:"/admin/trips",activeColor:r}),e.jsx(s,{icon:D,label:"Reservas",to:"/admin/reservations",activeColor:r}),e.jsx(s,{icon:f,label:"Fretamento B2B",to:"/admin/charter",activeColor:r}),e.jsx(s,{icon:I,label:"Rotas",to:"/admin/routes",activeColor:r})]}),a===p.EXPRESS&&e.jsxs(e.Fragment,{children:[e.jsx(s,{icon:N,label:"Rotas Express",to:"/admin/routes",activeColor:r}),e.jsx(s,{icon:$,label:"Encomendas",to:"/admin/parcels",activeColor:r})]}),e.jsx("div",{className:"my-4 mx-6 border-t border-slate-100 dark:border-slate-700"}),e.jsx("div",{className:"px-6 py-3 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Operacional"}),e.jsx(s,{icon:f,label:"Clientes (CRM)",to:"/admin/clients",activeColor:r}),e.jsx(s,{icon:a===p.TURISMO?y:N,label:"Frota",to:"/admin/fleet",activeColor:r}),e.jsx(s,{icon:f,label:"Motoristas",to:"/admin/drivers",activeColor:r}),e.jsx(s,{icon:B,label:"Manutenção",to:"/admin/maintenance",activeColor:r}),e.jsx("div",{className:"my-4 mx-6 border-t border-slate-100 dark:border-slate-700"}),e.jsx("div",{className:"px-6 py-3 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Gestão"}),d(["admin","financeiro"])&&e.jsx(s,{icon:F,label:"Financeiro",to:"/admin/finance",activeColor:r}),e.jsx(s,{icon:V,label:"Relatórios",to:"/admin/reports",activeColor:r}),e.jsx(s,{icon:W,label:"Documentos",to:"/admin/documents",activeColor:r}),d(["admin"])&&e.jsxs(e.Fragment,{children:[e.jsx(s,{icon:f,label:"Usuários",to:"/admin/users",activeColor:r}),e.jsx(s,{icon:G,label:"Organizações",to:"/admin/organizations",activeColor:r}),e.jsx(s,{icon:pe,label:"Cadastros Auxiliares",to:"/admin/auxiliary-data",activeColor:r}),e.jsx(s,{icon:z,label:"Configurações",to:"/admin/settings",activeColor:r})]})]})]})},Ce="modulepreload",Se=function(a){return"/"+a},_={},_e=function(i,n,l){let x=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(u=>Promise.resolve(u).then(o=>({status:"fulfilled",value:o}),o=>({status:"rejected",reason:o}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),g=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));x=d(n.map(m=>{if(m=Se(m),m in _)return;_[m]=!0;const u=m.endsWith(".css"),o=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${o}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":Ce,u||(c.as="script"),c.crossOrigin="",c.href=m,g&&c.setAttribute("nonce",g),document.head.appendChild(c),u)return new Promise((j,T)=>{c.addEventListener("load",j),c.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function r(d){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=d,window.dispatchEvent(t),!t.defaultPrevented)throw d}return x.then(d=>{for(const t of d||[])t.status==="rejected"&&r(t.reason);return i().catch(r)})},Me=()=>{var u;const{currentContext:a,switchContext:i,currentEmpresa:n,user:l,toggleSidebar:x,theme:r,toggleTheme:d}=w(),t=M(),[g,m]=E.useState([]);return U.useEffect(()=>{k.organization.list().then(({data:o})=>{o&&m(o)})},[]),e.jsxs("header",{className:"h-20 bg-card/60 backdrop-blur-xl border-b border-border/40 flex items-center justify-between px-8 sticky top-0 z-40 transition-all duration-300 shadow-sm shadow-black/5",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(S,{variant:"ghost",size:"icon",onClick:x,className:"rounded-xl hover:bg-accent/50 group",children:e.jsx(je,{size:20,className:"group-hover:rotate-180 transition-transform duration-500"})}),e.jsxs("div",{className:"hidden lg:flex items-center gap-3 px-4 py-1.5 bg-muted/30 rounded-full border border-border/30",children:[e.jsx("span",{className:"text-[12px] uppercase tracking-[0.2em] font-black text-muted-foreground/40",children:"Empresa"}),e.jsx(ae,{orientation:"vertical",className:"h-4 bg-border/40"}),e.jsxs(H,{value:((u=g.find(o=>o.slug.includes(a===p.TURISMO?"turismo":"express")))==null?void 0:u.id)||"",onValueChange:async o=>{const c=g.find(j=>j.id===o);c&&(await k.organization.setActive({organizationId:c.id}),c.slug.toLowerCase().includes("turismo")?i(p.TURISMO):i(p.EXPRESS),window.location.reload())},children:[e.jsx(X,{className:"w-[200px] h-7 bg-transparent border-none shadow-none font-bold text-sm hover:text-primary transition-colors focus:ring-0",children:e.jsx(Y,{placeholder:"Selecione a empresa"})}),e.jsx(J,{className:"rounded-2xl border-none shadow-2xl p-2",children:g.map(o=>e.jsx(K,{value:o.id,className:"rounded-xl font-semibold",children:o.name},o.id))})]})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative hidden xl:block group",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground/50 group-focus-within:text-primary transition-colors",size:16}),e.jsx("input",{type:"text",placeholder:"Buscar reserva, cliente...",className:"pl-10 pr-4 py-2 bg-muted/30 border-none rounded-full text-sm w-72 focus:ring-2 focus:ring-primary/10 dark:text-white transition-all placeholder:text-muted-foreground/30 font-medium whitespace-nowrap overflow-hidden"})]}),e.jsxs(S,{variant:"ghost",size:"icon",className:"relative group rounded-full hover:bg-primary/5",children:[e.jsx(xe,{size:20,className:"text-muted-foreground group-hover:text-primary transition-colors"}),e.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 border-2 border-background rounded-full animate-pulse"})]}),e.jsx("div",{className:"flex items-center gap-4 pl-4 border-l border-border/50 h-10",children:e.jsxs(re,{children:[e.jsx(te,{asChild:!0,children:e.jsxs("button",{className:"flex items-center gap-3 outline-none group",children:[e.jsxs("div",{className:"text-right hidden md:block",children:[e.jsx("p",{className:"text-sm font-black text-foreground group-hover:text-primary transition-colors leading-none",children:l.name}),e.jsx("p",{className:"text-[12px] font-bold text-muted-foreground/60 uppercase tracking-widest mt-1",children:l.role})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(Q,{className:"h-10 w-10 border-2 border-background ring-2 ring-primary/5 shadow-xl transition-all duration-300 group-hover:scale-110 group-hover:rotate-3 group-active:scale-95",children:[e.jsx(Z,{src:l.avatar}),e.jsx(ee,{className:"bg-gradient-to-br from-primary/10 to-blue-600/10 text-primary font-black",children:l.name.substring(0,2).toUpperCase()})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 border-2 border-background rounded-full"})]}),e.jsx(ie,{size:14,className:"text-muted-foreground group-hover:text-primary transition-all group-hover:translate-y-0.5"})]})}),e.jsxs(se,{align:"end",className:"w-64 rounded-2xl border-none shadow-2xl p-2 mt-2",children:[e.jsx(oe,{className:"px-3 py-2",children:e.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-muted-foreground/40",children:"Sua Conta"})}),e.jsxs(v,{onClick:()=>t(`/admin/usuarios/${l.id}/editar`),className:"rounded-xl h-11 gap-3 font-bold cursor-pointer",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 text-blue-600",children:e.jsx(le,{size:16})}),"Meu Perfil"]}),e.jsxs(v,{onClick:()=>t("/admin/configuracoes"),className:"rounded-xl h-11 gap-3 font-bold cursor-pointer",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:e.jsx(z,{size:16})}),"Configurações"]}),e.jsx(C,{className:"bg-muted/50 my-2"}),e.jsxs(v,{onClick:d,className:"rounded-xl h-11 gap-3 font-bold cursor-pointer",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10 text-orange-600",children:r==="light"?e.jsx(ce,{size:16}):e.jsx(we,{size:16})}),e.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[e.jsx("span",{children:r==="light"?"Modo Escuro":"Modo Claro"}),e.jsx("div",{className:`w-8 h-4 rounded-full p-0.5 transition-colors ${r==="dark"?"bg-primary":"bg-muted-foreground/20"}`,children:e.jsx("div",{className:`w-3 h-3 bg-white rounded-full shadow-sm transition-all duration-300 ${r==="dark"?"translate-x-4":""}`})})]})]}),e.jsx(C,{className:"bg-muted/50 my-2"}),e.jsxs(v,{onClick:async()=>{await(await _e(()=>import("./reset-password-P0kMDf4s.js").then(c=>c.b),__vite__mapDeps([0,1]))).authClient.signOut(),t("/login")},className:"rounded-xl h-11 gap-3 font-bold cursor-pointer text-destructive focus:text-destructive focus:bg-destructive/10",children:[e.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:e.jsx(fe,{size:16})}),"Sair do Sistema"]})]})]})})]})]})},Ee=()=>{const{systemSettings:a}=w(),i=new Date().getFullYear();return e.jsx("footer",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 py-4 px-6 transition-colors duration-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[e.jsxs("div",{children:["© ",i," ",a.system_footer_text||"SGTL - Sistema de Gestão de Transporte e Logística. Todos os direitos reservados."]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{children:["Versão ",a.system_display_version||"1.0.0"]}),e.jsx("a",{href:"#",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Termos de Uso"}),e.jsx("a",{href:"#",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Política de Privacidade"})]})]})})},fr=A(function(){const{data:i,isPending:n}=k.useSession(),l=M();return E.useEffect(()=>{!n&&!i&&l("/login")},[i,n,l]),n?e.jsx("div",{className:"flex h-screen bg-background items-center justify-center",children:e.jsx(de,{className:"h-8 w-8 animate-spin text-primary"})}):i?e.jsx(O,{children:e.jsxs("div",{className:"flex h-screen bg-background overflow-hidden transition-colors duration-200",children:[e.jsx(Ne,{}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx(Me,{}),e.jsxs("main",{className:"flex-1 overflow-y-auto flex flex-col",children:[e.jsx("div",{className:"max-w-7xl mx-auto w-full p-6 flex-1",children:e.jsx(L,{})}),e.jsx(Ee,{})]})]})]})}):null});export{fr as default};
