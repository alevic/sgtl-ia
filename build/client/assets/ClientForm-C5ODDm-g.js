import{r as c,j as e}from"./forgot-password-Cd1Knve9.js";import{a as O,b as w,F as T}from"./chunk-JZWAC4HX-DumfKpwM.js";import{F as r}from"./FormSection-BVV1rFH3.js";import{B as g}from"./button-D5icbzZz.js";import{I as a}from"./input-emgR2opu.js";import{c as b}from"./utils-CDN07tui.js";import{j as l,k as d}from"./types-DFYgxmzW.js";import{B as N}from"./building-2-gEJPO4Fu.js";import{U as f}from"./user-BQEge37k.js";import{M as k}from"./map-pin-BU3OPG7D.js";import{L as v}from"./loader-circle-ic6ikmbW.js";import{F as y}from"./file-text-BwHme3NP.js";import{c as F}from"./createLucideIcon-C45Xejds.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],L=F("briefcase",_);function Y({intent:C,defaultValues:s={},states:D}){const S=O(),p=w().state!=="idle",A=C==="edit",[t,x]=c.useState(s.tipo_cliente||l.PESSOA_FISICA),[E,I]=c.useState((s.endereco,"")),[P,u]=c.useState(!1),[i,h]=c.useState({street:s.endereco||"",city:s.cidade||"",state:s.estado||""}),R=async n=>{const m=n.target.value.replace(/\D/g,"");if(I(m),m.length===8){u(!0);try{const o=await(await fetch(`https://viacep.com.br/ws/${m}/json/`)).json();o.erro||h({street:o.logradouro||"",city:o.localidade||"",state:o.uf||""})}catch(j){console.error("CEP error",j)}finally{u(!1)}}};return e.jsxs(T,{method:"post",className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(r,{title:"Tipo de Perfil",icon:N,children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>x(l.PESSOA_FISICA),className:b("h-16 rounded-2xl border-2 transition-all font-black text-xs tracking-widest uppercase flex items-center justify-center gap-3",t===l.PESSOA_FISICA?"border-primary bg-primary/5 text-primary shadow-lg shadow-primary/10":"border-border/50 text-muted-foreground"),children:[e.jsx(f,{size:18})," PESSOA FÍSICA"]}),e.jsxs("button",{type:"button",onClick:()=>x(l.PESSOA_JURIDICA),className:b("h-16 rounded-2xl border-2 transition-all font-black text-xs tracking-widest uppercase flex items-center justify-center gap-3",t===l.PESSOA_JURIDICA?"border-primary bg-primary/5 text-primary shadow-lg shadow-primary/10":"border-border/50 text-muted-foreground"),children:[e.jsx(N,{size:18})," PESSOA JURÍDICA"]}),e.jsx("input",{type:"hidden",name:"tipo_cliente",value:t})]})}),e.jsx(r,{title:"Identificação",icon:f,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:t===l.PESSOA_FISICA?"Nome Completo":"Nome do Representante"}),e.jsx(a,{name:"nome",defaultValue:s.nome,required:!0,placeholder:"Ex: João da Silva",className:"h-14 rounded-xl bg-muted/40"})]}),t===l.PESSOA_JURIDICA&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Razão Social"}),e.jsx(a,{name:"razao_social",defaultValue:s.razao_social,required:!0,className:"h-14 rounded-xl bg-muted/40"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"CNPJ"}),e.jsx(a,{name:"cnpj",defaultValue:s.cnpj,required:!0,placeholder:"00.000.000/0000-00",className:"h-14 rounded-xl bg-muted/40"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"E-mail"}),e.jsx(a,{type:"email",name:"email",defaultValue:s.email,required:!0,placeholder:"email@exemplo.com",className:"h-14 rounded-xl bg-muted/40"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Telefone"}),e.jsx(a,{name:"telefone",defaultValue:s.telefone,required:!0,placeholder:"(00) 00000-0000",className:"h-14 rounded-xl bg-muted/40"})]})]})]})}),e.jsx(r,{title:"Localização",icon:k,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"CEP"}),e.jsxs("div",{className:"relative",children:[e.jsx(a,{value:E,onChange:R,placeholder:"00000-000",className:"h-14 rounded-xl bg-muted/40"}),P&&e.jsx(v,{className:"absolute right-4 top-1/2 -translate-y-1/2 animate-spin text-primary",size:18})]})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Endereço"}),e.jsx(a,{name:"endereco",defaultValue:i.street,required:!0,placeholder:"Rua, número, complemento",className:"h-14 rounded-xl bg-muted/40"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Cidade"}),e.jsx(a,{name:"cidade",defaultValue:i.city,required:!0,className:"h-14 rounded-xl bg-muted/40"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Estado (UF)"}),e.jsx(a,{name:"estado",defaultValue:i.state,required:!0,maxLength:2,className:"h-14 rounded-xl bg-muted/40 uppercase font-black",onChange:n=>h({...i,state:n.target.value})})]})]})]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(r,{title:"Documentação",icon:y,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Tipo de Documento"}),e.jsxs("select",{name:"documento_tipo",defaultValue:s.documento_tipo,className:"w-full h-14 px-4 bg-muted/40 border border-border/50 rounded-xl font-bold outline-none",children:[e.jsx("option",{value:d.CPF,children:"CPF"}),e.jsx("option",{value:d.RG,children:"RG"}),e.jsx("option",{value:d.CNPJ,children:"CNPJ"}),e.jsx("option",{value:d.PASSAPORTE,children:"PASSAPORTE"})]}),e.jsx(a,{name:"documento",defaultValue:s.documento,required:!0,placeholder:"Número do documento",className:"h-14 rounded-xl bg-muted/40"})]})}),e.jsx(r,{title:"Classificação",icon:L,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Segmento"}),e.jsxs("select",{name:"segmento",defaultValue:s.segmento||"NOVO",className:"w-full h-14 px-4 bg-muted/40 border border-border/50 rounded-xl font-bold outline-none",children:[e.jsx("option",{value:"NOVO",children:"NOVO CLIENTE"}),e.jsx("option",{value:"REGULAR",children:"CLIENTE REGULAR"}),e.jsx("option",{value:"VIP",children:"CLIENTE VIP"}),e.jsx("option",{value:"INATIVO",children:"INATIVO"})]})]})}),e.jsx(r,{title:"Notas",icon:y,children:e.jsx("textarea",{name:"observacoes",defaultValue:s.observacoes,rows:4,className:"w-full p-4 bg-muted/40 border-none rounded-2xl font-bold text-sm focus:ring-2 focus:ring-primary/20 outline-none resize-none",placeholder:"Observações adicionais..."})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(g,{type:"submit",disabled:p,className:"h-16 rounded-[1.25rem] bg-primary text-primary-foreground font-black uppercase text-xs tracking-widest shadow-xl shadow-primary/20",children:p?e.jsx(v,{className:"animate-spin"}):A?"SALVAR ALTERAÇÕES":"CADASTRAR CLIENTE"}),e.jsx(g,{type:"button",variant:"ghost",onClick:()=>S(-1),className:"h-14 rounded-xl font-black uppercase text-[10px] tracking-widest",children:"CANCELAR"})]})]})]})}export{Y as C};
