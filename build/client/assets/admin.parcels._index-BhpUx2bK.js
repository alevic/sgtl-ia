import{w as _,u as z,c as B,a as M,L as N}from"./chunk-JZWAC4HX-DumfKpwM.js";import{r as u,j as e}from"./forgot-password-Cd1Knve9.js";import{u as P}from"./useDateFormatter-CNVcwzUI.js";import{c,d as r,e as F}from"./types-DFYgxmzW.js";import{C as v}from"./card-Cg68uFrF.js";import{B as k}from"./button-D5icbzZz.js";import{T as U,a as G,b as g}from"./tabs-C5PlI2Of.js";import{I as V}from"./input-emgR2opu.js";import{B as T}from"./badge-OnEQOSZY.js";import{P as H}from"./PageHeader-BWRrOg2b.js";import{D as n}from"./DashboardCard-CAo4eudV.js";import{L as W}from"./ListFilterSection-C2yv81r0.js";import{D as $,a as q,b as K,c as h,d as J}from"./dropdown-menu-CNNo2K3q.js";import{A as Q,a as X,b as Y,c as Z,d as ee,e as se,f as te,g as ae}from"./alert-dialog-BsWUNK-P.js";import{c as y}from"./utils-CDN07tui.js";import{P as d}from"./package-CA3PlPAx.js";import{P as re}from"./plus-D5F9e-Lx.js";import{B as f}from"./bus-D0L2JeBO.js";import{T as b}from"./truck-DjqGUVW-.js";import{T as ie}from"./trending-up-BKzFUhqw.js";import{S as oe}from"./search-CnuVL9vz.js";import{E as le}from"./ellipsis-DBh4irOy.js";import{S as ce}from"./square-pen-DbBn1E1l.js";import{T as ne}from"./trash-2-BO5CKzGP.js";import{M as w}from"./map-pin-BU3OPG7D.js";import{C as de}from"./calendar-B2-DO3Xm.js";import"./AppContext-CqFrqiNi.js";import"./reset-password-P0kMDf4s.js";import"./pt-BR-Dxhrr4Mm.js";import"./format-Teop82l3.js";import"./index-Ds5WWjjE.js";import"./index-CGIZjBuz.js";import"./index-CNk52wy-.js";import"./index-CzPzUr9r.js";import"./index-r0Cach5g.js";import"./index-BTyV9z74.js";import"./createLucideIcon-C45Xejds.js";import"./Combination-Bzd-zPU3.js";import"./index-BDGasEjq.js";import"./chevron-right-DQu5sotq.js";import"./check-DPa0jV58.js";import"./circle-Inv2uPuq.js";import"./index-BCt1EX5H.js";const me=({tipo:a})=>{const t=a===c.BUS_CARGO,i=t?f:b;return e.jsxs(T,{variant:"outline",className:y("rounded-lg font-bold gap-1.5 px-2 py-0.5 border-none",t?"bg-blue-500/10 text-blue-600":"bg-orange-500/10 text-orange-600"),children:[e.jsx(i,{size:14,strokeWidth:2.5}),t?"ÔNIBUS":"CAMINHÃO"]})},pe=({status:a})=>{const t={[r.AWAITING]:{className:"bg-slate-500/10 text-slate-600"},[r.IN_TRANSIT]:{className:"bg-blue-500/10 text-blue-600"},[r.DELIVERED]:{className:"bg-emerald-500/10 text-emerald-600"},[r.RETURNED]:{className:"bg-rose-500/10 text-rose-600"}},i=t[a]||t[r.AWAITING];return e.jsx(T,{variant:"outline",className:y("rounded-lg font-bold px-2 py-0.5 border-none uppercase tracking-tighter shadow-sm",i.className),children:F[a]||a})},ts=_(function(){const{parcels:t}=z(),i=B();M();const{formatDate:E}=P(),[o,C]=u.useState(""),[m,D]=u.useState("TODOS"),[p,x]=u.useState(null),l=t,A=l.length,S=l.filter(s=>s.type===c.BUS_CARGO).length,O=l.filter(s=>s.type===c.TRUCK_FREIGHT).length,I=l.filter(s=>s.status===r.IN_TRANSIT).length,j=l.filter(s=>{const R=m==="TODOS"||s.type===m,L=o===""||(s.code||"").toLowerCase().includes(o.toLowerCase())||(s.sender_name||"").toLowerCase().includes(o.toLowerCase())||(s.recipient_name||"").toLowerCase().includes(o.toLowerCase());return R&&L});return e.jsxs("div",{className:"p-8 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700 pb-10",children:[e.jsx(H,{title:"Gestão de Encomendas",subtitle:"Logística híbrida e rastreamento em tempo real",icon:d,rightElement:e.jsx(k,{asChild:!0,className:"h-14 px-6 rounded-xl font-semibold gap-2 shadow-lg shadow-primary/20 transition-all hover:scale-105 active:scale-95",children:e.jsxs(N,{to:"/admin/parcels/new",children:[e.jsx(re,{size:20,strokeWidth:2.5}),"NOVA ENCOMENDA"]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(n,{title:"Total Encomendas",value:A,icon:d,variant:"primary"}),e.jsx(n,{title:"Carga Ônibus",value:S,icon:f,variant:"blue"}),e.jsx(n,{title:"Frete Caminhão",value:O,icon:b,variant:"amber"}),e.jsx(n,{title:"Em Trânsito",value:I,icon:ie,variant:"emerald"})]}),e.jsxs(W,{children:[e.jsxs("div",{className:"space-y-1.5 flex flex-col lg:col-span-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Modalidade de Envio"}),e.jsx(U,{value:m,onValueChange:D,className:"w-full",children:e.jsxs(G,{className:"bg-muted/40 p-1.5 rounded-xl h-14 flex w-full border border-border/50",children:[e.jsx(g,{value:"TODOS",className:"flex-1 rounded-xl font-black text-[10px] tracking-widest",children:"TODOS"}),e.jsxs(g,{value:c.BUS_CARGO,className:"flex-1 rounded-xl font-black text-[10px] tracking-widest text-blue-600 gap-2",children:[e.jsx(f,{size:14})," ÔNIBUS"]}),e.jsxs(g,{value:c.TRUCK_FREIGHT,className:"flex-1 rounded-xl font-black text-[10px] tracking-widest text-orange-600 gap-2",children:[e.jsx(b,{size:14})," CAMINHÃO"]})]})})]}),e.jsxs("div",{className:"space-y-1.5 flex flex-col lg:col-span-2",children:[e.jsx("label",{className:"text-label-caps ml-1",children:"Buscar Logístico"}),e.jsxs("div",{className:"relative group flex-1",children:[e.jsx(oe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors",size:18}),e.jsx(V,{placeholder:"Código, remetente ou destinatário...",className:"pl-12 h-14 bg-muted/40 border-input rounded-xl font-bold transition-all focus-visible:ring-2 focus-visible:ring-primary/20",value:o,onChange:s=>C(s.target.value)})]})]})]}),e.jsx("div",{className:"grid gap-6",children:j.length===0?e.jsxs(v,{className:"p-24 text-center bg-card/40 border-dashed rounded-[2.5rem]",children:[e.jsx(d,{size:64,className:"mx-auto mb-6 text-muted-foreground/20"}),e.jsx("p",{className:"font-black text-muted-foreground uppercase tracking-widest text-sm",children:"Nenhuma encomenda encontrada"})]}):j.map(s=>e.jsxs(v,{className:"group shadow-xl bg-card/60 backdrop-blur-xl border border-border/40 rounded-[2.5rem] p-8 hover:border-primary/40 transition-all overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs($,{children:[e.jsx(q,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl hover:bg-muted/80",children:e.jsx(le,{size:20})})}),e.jsxs(K,{align:"end",className:"w-56 rounded-2xl p-2 bg-card/95 backdrop-blur-md shadow-2xl border-none",children:[e.jsx(h,{asChild:!0,className:"rounded-xl h-11 px-3 cursor-pointer",children:e.jsxs(N,{to:`/admin/parcels/${s.id}`,className:"flex items-center gap-3 font-bold text-xs uppercase tracking-widest",children:[e.jsx(FileText,{size:16})," Ver Detalhes"]})}),e.jsxs(h,{className:"rounded-xl h-11 px-3 cursor-pointer flex items-center gap-3 font-bold text-xs uppercase tracking-widest",children:[e.jsx(ce,{size:16})," Editar"]}),e.jsx(J,{className:"bg-border/40 my-1"}),e.jsxs(h,{onClick:()=>x(s.id),className:"rounded-xl h-11 px-3 cursor-pointer flex items-center gap-3 font-bold text-xs uppercase tracking-widest text-destructive focus:bg-destructive/10",children:[e.jsx(ne,{size:16})," Excluir"]})]})]})}),e.jsxs("div",{className:"flex flex-col xl:flex-row justify-between gap-8 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-3xl bg-primary/10 flex items-center justify-center text-primary transition-transform group-hover:scale-110 shadow-lg",children:e.jsx(d,{size:36,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black tracking-tighter leading-none mb-2 mb-2",children:s.code}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(me,{tipo:s.type}),e.jsx(pe,{status:s.status})]})]})]}),e.jsxs("div",{className:"flex flex-col xl:items-end justify-center",children:[e.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest mb-1 opacity-60",children:"VALOR DECLARADO"}),e.jsxs("div",{className:"text-3xl font-black text-emerald-600 tracking-tighter",children:[s.currency||"R$"," ",Number(s.declared_value).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 p-8 bg-muted/20 border border-border/30 rounded-[2rem]",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-muted-foreground uppercase tracking-widest opacity-60",children:[e.jsx(w,{size:12,className:"text-emerald-500"})," ORIGEM"]}),e.jsx("p",{className:"font-black text-base uppercase tracking-tight",children:s.origin})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-muted-foreground uppercase tracking-widest opacity-60",children:[e.jsx(w,{size:12,className:"text-rose-500"})," DESTINO"]}),e.jsx("p",{className:"font-black text-base uppercase tracking-tight",children:s.destination})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-muted-foreground uppercase tracking-widest opacity-60",children:[e.jsx(de,{size:12,className:"text-blue-500"})," PREVISÃO"]}),e.jsx("p",{className:"font-black text-base uppercase tracking-tight",children:s.delivery_estimate?E(s.delivery_estimate):"--"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mt-8 px-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest opacity-40",children:"PESO"}),e.jsxs("p",{className:"font-bold text-sm",children:[s.weight_kg," kg"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest opacity-40",children:"VOLUME"}),e.jsx("p",{className:"font-bold text-sm tracking-tighter",children:s.volume_m3?`${s.volume_m3} m³`:"--"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest opacity-40",children:"REMETENTE"}),e.jsx("p",{className:"font-bold text-sm truncate uppercase",children:s.sender_name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest opacity-40",children:"DESTINATÁRIO"}),e.jsx("p",{className:"font-bold text-sm truncate uppercase",children:s.recipient_name})]})]})]},s.id))}),e.jsx(Q,{open:!!p,onOpenChange:s=>!s&&x(null),children:e.jsxs(X,{className:"rounded-[2rem] border-none shadow-2xl bg-card/95 backdrop-blur-md",children:[e.jsxs(Y,{children:[e.jsx(Z,{className:"text-2xl font-black uppercase tracking-tighter",children:"Confirmar Exclusão"}),e.jsx(ee,{className:"font-medium text-muted-foreground",children:"Tem certeza que deseja remover esta encomenda do sistema? Esta ação é definitiva e removerá todo o histórico de rastreamento."})]}),e.jsxs(se,{className:"gap-3",children:[e.jsx(te,{className:"rounded-xl font-bold border-none bg-muted hover:bg-muted/80 h-12 px-6",children:"CANCELAR"}),e.jsx(ae,{onClick:()=>{p&&(i.submit({intent:"delete",id:p},{method:"post"}),x(null))},className:"rounded-xl font-black uppercase text-[10px] tracking-widest bg-destructive text-destructive-foreground hover:bg-destructive/90 h-12 px-8",children:"REMOVER ENCOMENDA"})]})]})})]},"parcels-main")});export{ts as default};
