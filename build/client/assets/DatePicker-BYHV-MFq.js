var re=Object.defineProperty;var se=(s,n,e)=>n in s?re(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e;var i=(s,n,e)=>se(s,typeof n!="symbol"?n+"":n,e);import{r as R,j as b}from"./forgot-password-Cd1Knve9.js";import{I as ne}from"./input-emgR2opu.js";import{L as ae}from"./alert-vCj8ckqs.js";import{P as ie,a as oe,b as ce}from"./popover-BPpg6i3_.js";import{a as V,C as ue}from"./admin.drivers.edit._id-CTlVsdej.js";import{B as le}from"./button-D5icbzZz.js";import{c as W}from"./utils-CDN07tui.js";import{C as de}from"./calendar-B2-DO3Xm.js";import{i as Z,t as I,e as O,m as we,f as fe,j as he,k as ye,s as A,l as K,n as xe,o as pe,p as U,g as me,q as X,r as be,w as $,u as ge,v as z,h as B}from"./format-Teop82l3.js";import{p as Te}from"./pt-BR-Dxhrr4Mm.js";function De(){return Object.assign({},Z())}function Pe(s,n){const e=I(s,n==null?void 0:n.in).getDay();return e===0?7:e}function ke(s,n){const e=Me(n)?new n(0):O(n,0);return e.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),e.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),e}function Me(s){var n;return typeof s=="function"&&((n=s.prototype)==null?void 0:n.constructor)===s}const _e=10;class J{constructor(){i(this,"subPriority",0)}validate(n,e){return!0}}class Ye extends J{constructor(n,e,r,t,a){super(),this.value=n,this.validateValue=e,this.setValue=r,this.priority=t,a&&(this.subPriority=a)}validate(n,e){return this.validateValue(n,this.value,e)}set(n,e,r){return this.setValue(n,e,this.value,r)}}class Oe extends J{constructor(e,r){super();i(this,"priority",_e);i(this,"subPriority",-1);this.context=e||(t=>O(r,t))}set(e,r){return r.timestampIsSet?e:O(e,ke(e,this.context))}}class u{run(n,e,r,t){const a=this.parse(n,e,r,t);return a?{setter:new Ye(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,e,r){return!0}}class Ee extends u{constructor(){super(...arguments);i(this,"priority",140);i(this,"incompatibleTokens",["R","u","t","T"])}parse(e,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})||t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"})}}set(e,r,t){return r.era=t,e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}}const h={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},k={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function y(s,n){return s&&{value:n(s.value),rest:s.rest}}function w(s,n){const e=n.match(s);return e?{value:parseInt(e[0],10),rest:n.slice(e[0].length)}:null}function M(s,n){const e=n.match(s);if(!e)return null;if(e[0]==="Z")return{value:0,rest:n.slice(1)};const r=e[1]==="+"?1:-1,t=e[2]?parseInt(e[2],10):0,a=e[3]?parseInt(e[3],10):0,c=e[5]?parseInt(e[5],10):0;return{value:r*(t*we+a*fe+c*he),rest:n.slice(e[0].length)}}function S(s){return w(h.anyDigitsSigned,s)}function f(s,n){switch(s){case 1:return w(h.singleDigit,n);case 2:return w(h.twoDigits,n);case 3:return w(h.threeDigits,n);case 4:return w(h.fourDigits,n);default:return w(new RegExp("^\\d{1,"+s+"}"),n)}}function C(s,n){switch(s){case 1:return w(h.singleDigitSigned,n);case 2:return w(h.twoDigitsSigned,n);case 3:return w(h.threeDigitsSigned,n);case 4:return w(h.fourDigitsSigned,n);default:return w(new RegExp("^-?\\d{1,"+s+"}"),n)}}function j(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ee(s,n){const e=n>0,r=e?n:1-n;let t;if(r<=50)t=s||100;else{const a=r+50,c=Math.trunc(a/100)*100,x=s>=a%100;t=s+c-(x?100:0)}return e?t:1-t}function te(s){return s%400===0||s%4===0&&s%100!==0}class Ie extends u{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,r,t){const a=c=>({year:c,isTwoDigitYear:r==="yy"});switch(r){case"y":return y(f(4,e),a);case"yo":return y(t.ordinalNumber(e,{unit:"year"}),a);default:return y(f(r.length,e),a)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t){const a=e.getFullYear();if(t.isTwoDigitYear){const x=ee(t.year,a);return e.setFullYear(x,0,1),e.setHours(0,0,0,0),e}const c=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}}class ve extends u{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,r,t){const a=c=>({year:c,isTwoDigitYear:r==="YY"});switch(r){case"Y":return y(f(4,e),a);case"Yo":return y(t.ordinalNumber(e,{unit:"year"}),a);default:return y(f(r.length,e),a)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t,a){const c=ye(e,a);if(t.isTwoDigitYear){const g=ee(t.year,c);return e.setFullYear(g,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),A(e,a)}const x=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(x,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),A(e,a)}}class He extends u{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,r){return C(r==="R"?4:r.length,e)}set(e,r,t){const a=O(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),K(a)}}class qe extends u{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,r){return C(r==="u"?4:r.length,e)}set(e,r,t){return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}}class Le extends u{constructor(){super(...arguments);i(this,"priority",120);i(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"Q":case"QQ":return f(r.length,e);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})||t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}}class Ne extends u{constructor(){super(...arguments);i(this,"priority",120);i(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"q":case"qq":return f(r.length,e);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})||t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}}class Qe extends u{constructor(){super(...arguments);i(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);i(this,"priority",110)}parse(e,r,t){const a=c=>c-1;switch(r){case"M":return y(w(h.month,e),a);case"MM":return y(f(2,e),a);case"Mo":return y(t.ordinalNumber(e,{unit:"month"}),a);case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})||t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}class Re extends u{constructor(){super(...arguments);i(this,"priority",110);i(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,r,t){const a=c=>c-1;switch(r){case"L":return y(w(h.month,e),a);case"LL":return y(f(2,e),a);case"Lo":return y(t.ordinalNumber(e,{unit:"month"}),a);case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})||t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}function Ce(s,n,e){const r=I(s,e==null?void 0:e.in),t=xe(r,e)-n;return r.setDate(r.getDate()-t*7),I(r,e==null?void 0:e.in)}class We extends u{constructor(){super(...arguments);i(this,"priority",100);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,r,t){switch(r){case"w":return w(h.week,e);case"wo":return t.ordinalNumber(e,{unit:"week"});default:return f(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t,a){return A(Ce(e,t,a),a)}}function Be(s,n,e){const r=I(s,e==null?void 0:e.in),t=pe(r,e)-n;return r.setDate(r.getDate()-t*7),r}class Ae extends u{constructor(){super(...arguments);i(this,"priority",100);i(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,r,t){switch(r){case"I":return w(h.week,e);case"Io":return t.ordinalNumber(e,{unit:"week"});default:return f(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t){return K(Be(e,t))}}const je=[31,28,31,30,31,30,31,31,30,31,30,31],Fe=[31,29,31,30,31,30,31,31,30,31,30,31];class Ge extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"subPriority",1);i(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"d":return w(h.date,e);case"do":return t.ordinalNumber(e,{unit:"date"});default:return f(r.length,e)}}validate(e,r){const t=e.getFullYear(),a=te(t),c=e.getMonth();return a?r>=1&&r<=Fe[c]:r>=1&&r<=je[c]}set(e,r,t){return e.setDate(t),e.setHours(0,0,0,0),e}}class Xe extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"subpriority",1);i(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,r,t){switch(r){case"D":case"DD":return w(h.dayOfYear,e);case"Do":return t.ordinalNumber(e,{unit:"date"});default:return f(r.length,e)}}validate(e,r){const t=e.getFullYear();return te(t)?r>=1&&r<=366:r>=1&&r<=365}set(e,r,t){return e.setMonth(0,t),e.setHours(0,0,0,0),e}}function F(s,n,e){var E,m,v,T;const r=Z(),t=(e==null?void 0:e.weekStartsOn)??((m=(E=e==null?void 0:e.locale)==null?void 0:E.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((T=(v=r.locale)==null?void 0:v.options)==null?void 0:T.weekStartsOn)??0,a=I(s,e==null?void 0:e.in),c=a.getDay(),g=(n%7+7)%7,_=7-t,Y=n<0||n>6?n-(c+_)%7:(g+_)%7-(c+_)%7;return V(a,Y,e)}class $e extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,a){return e=F(e,t,a),e.setHours(0,0,0,0),e}}class ze extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,r,t,a){const c=x=>{const g=Math.floor((x-1)/7)*7;return(x+a.weekStartsOn+6)%7+g};switch(r){case"e":case"ee":return y(f(r.length,e),c);case"eo":return y(t.ordinalNumber(e,{unit:"day"}),c);case"eee":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeeee":return t.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,a){return e=F(e,t,a),e.setHours(0,0,0,0),e}}class Ve extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,r,t,a){const c=x=>{const g=Math.floor((x-1)/7)*7;return(x+a.weekStartsOn+6)%7+g};switch(r){case"c":case"cc":return y(f(r.length,e),c);case"co":return y(t.ordinalNumber(e,{unit:"day"}),c);case"ccc":return t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"ccccc":return t.day(e,{width:"narrow",context:"standalone"});case"cccccc":return t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(e,{width:"wide",context:"standalone"})||t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,a){return e=F(e,t,a),e.setHours(0,0,0,0),e}}function Ze(s,n,e){const r=I(s,e==null?void 0:e.in),t=Pe(r,e),a=n-t;return V(r,a,e)}class Ke extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,r,t){const a=c=>c===0?7:c;switch(r){case"i":case"ii":return f(r.length,e);case"io":return t.ordinalNumber(e,{unit:"day"});case"iii":return y(t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return y(t.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return y(t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return y(t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,r){return r>=1&&r<=7}set(e,r,t){return e=Ze(e,t),e.setHours(0,0,0,0),e}}class Ue extends u{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(j(t),0,0,0),e}}class Je extends u{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(j(t),0,0,0),e}}class Se extends u{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["a","b","t","T"])}parse(e,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(j(t),0,0,0),e}}class et extends u{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,r,t){switch(r){case"h":return w(h.hour12h,e);case"ho":return t.ordinalNumber(e,{unit:"hour"});default:return f(r.length,e)}}validate(e,r){return r>=1&&r<=12}set(e,r,t){const a=e.getHours()>=12;return a&&t<12?e.setHours(t+12,0,0,0):!a&&t===12?e.setHours(0,0,0,0):e.setHours(t,0,0,0),e}}class tt extends u{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,r,t){switch(r){case"H":return w(h.hour23h,e);case"Ho":return t.ordinalNumber(e,{unit:"hour"});default:return f(r.length,e)}}validate(e,r){return r>=0&&r<=23}set(e,r,t){return e.setHours(t,0,0,0),e}}class rt extends u{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,r,t){switch(r){case"K":return w(h.hour11h,e);case"Ko":return t.ordinalNumber(e,{unit:"hour"});default:return f(r.length,e)}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.getHours()>=12&&t<12?e.setHours(t+12,0,0,0):e.setHours(t,0,0,0),e}}class st extends u{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,r,t){switch(r){case"k":return w(h.hour24h,e);case"ko":return t.ordinalNumber(e,{unit:"hour"});default:return f(r.length,e)}}validate(e,r){return r>=1&&r<=24}set(e,r,t){const a=t<=24?t%24:t;return e.setHours(a,0,0,0),e}}class nt extends u{constructor(){super(...arguments);i(this,"priority",60);i(this,"incompatibleTokens",["t","T"])}parse(e,r,t){switch(r){case"m":return w(h.minute,e);case"mo":return t.ordinalNumber(e,{unit:"minute"});default:return f(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setMinutes(t,0,0),e}}class at extends u{constructor(){super(...arguments);i(this,"priority",50);i(this,"incompatibleTokens",["t","T"])}parse(e,r,t){switch(r){case"s":return w(h.second,e);case"so":return t.ordinalNumber(e,{unit:"second"});default:return f(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setSeconds(t,0),e}}class it extends u{constructor(){super(...arguments);i(this,"priority",30);i(this,"incompatibleTokens",["t","T"])}parse(e,r){const t=a=>Math.trunc(a*Math.pow(10,-r.length+3));return y(f(r.length,e),t)}set(e,r,t){return e.setMilliseconds(t),e}}class ot extends u{constructor(){super(...arguments);i(this,"priority",10);i(this,"incompatibleTokens",["t","T","x"])}parse(e,r){switch(r){case"X":return M(k.basicOptionalMinutes,e);case"XX":return M(k.basic,e);case"XXXX":return M(k.basicOptionalSeconds,e);case"XXXXX":return M(k.extendedOptionalSeconds,e);case"XXX":default:return M(k.extended,e)}}set(e,r,t){return r.timestampIsSet?e:O(e,e.getTime()-U(e)-t)}}class ct extends u{constructor(){super(...arguments);i(this,"priority",10);i(this,"incompatibleTokens",["t","T","X"])}parse(e,r){switch(r){case"x":return M(k.basicOptionalMinutes,e);case"xx":return M(k.basic,e);case"xxxx":return M(k.basicOptionalSeconds,e);case"xxxxx":return M(k.extendedOptionalSeconds,e);case"xxx":default:return M(k.extended,e)}}set(e,r,t){return r.timestampIsSet?e:O(e,e.getTime()-U(e)-t)}}class ut extends u{constructor(){super(...arguments);i(this,"priority",40);i(this,"incompatibleTokens","*")}parse(e){return S(e)}set(e,r,t){return[O(e,t*1e3),{timestampIsSet:!0}]}}class lt extends u{constructor(){super(...arguments);i(this,"priority",20);i(this,"incompatibleTokens","*")}parse(e){return S(e)}set(e,r,t){return[O(e,t),{timestampIsSet:!0}]}}const dt={G:new Ee,y:new Ie,Y:new ve,R:new He,u:new qe,Q:new Le,q:new Ne,M:new Qe,L:new Re,w:new We,I:new Ae,d:new Ge,D:new Xe,E:new $e,e:new ze,c:new Ve,i:new Ke,a:new Ue,b:new Je,B:new Se,h:new et,H:new tt,K:new rt,k:new st,m:new nt,s:new at,S:new it,X:new ot,x:new ct,t:new ut,T:new lt},wt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ft=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ht=/^'([^]*?)'?$/,yt=/''/g,xt=/\S/,pt=/[a-zA-Z]/;function mt(s,n,e,r){var L,N,p,l;const t=()=>O(e,NaN),a=De(),c=a.locale??me,x=a.firstWeekContainsDate??((N=(L=a.locale)==null?void 0:L.options)==null?void 0:N.firstWeekContainsDate)??1,g=a.weekStartsOn??((l=(p=a.locale)==null?void 0:p.options)==null?void 0:l.weekStartsOn)??0,_={firstWeekContainsDate:x,weekStartsOn:g,locale:c},Y=[new Oe(r==null?void 0:r.in,e)],E=n.match(ft).map(o=>{const d=o[0];if(d in X){const D=X[d];return D(o,c.formatLong)}return o}).join("").match(wt),m=[];for(let o of E){be(o)&&$(o,n,s),ge(o)&&$(o,n,s);const d=o[0],D=dt[d];if(D){const{incompatibleTokens:H}=D;if(Array.isArray(H)){const Q=m.find(G=>H.includes(G.token)||G.token===d);if(Q)throw new RangeError(`The format string mustn't contain \`${Q.fullToken}\` and \`${o}\` at the same time`)}else if(D.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${o}\` and any other token at the same time`);m.push({token:d,fullToken:o});const P=D.run(s,o,c.match,_);if(!P)return t();Y.push(P.setter),s=P.rest}else{if(d.match(pt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");if(o==="''"?o="'":d==="'"&&(o=bt(o)),s.indexOf(o)===0)s=s.slice(o.length);else return t()}}if(s.length>0&&xt.test(s))return t();const v=Y.map(o=>o.priority).sort((o,d)=>d-o).filter((o,d,D)=>D.indexOf(o)===d).map(o=>Y.filter(d=>d.priority===o).sort((d,D)=>D.subPriority-d.subPriority)).map(o=>o[0]);let T=I(e,r==null?void 0:r.in);if(isNaN(+T))return t();const q={};for(const o of v){if(!o.validate(T,_))return t();const d=o.set(T,q,_);Array.isArray(d)?(T=d[0],Object.assign(q,d[1])):T=d}return T}function bt(s){return s.match(ht)[1].replace(yt,"'")}const vt=({value:s,onChange:n,label:e,required:r=!1,placeholder:t="DD/MM/AAAA",showIcon:a=!0,className:c="",containerClassName:x=""})=>{const g=p=>{if(!p)return"";const l=p.split("-");return l.length!==3?p:`${l[2]}/${l[1]}/${l[0]}`},[_,Y]=R.useState(g(s)),[E,m]=R.useState(!1),[v,T]=R.useState(!1),q=p=>{if(!p)return;const l=new Date(p+"T12:00:00");return z(l)?l:void 0};R.useEffect(()=>{Y(g(s))},[s]);const L=p=>{if(p){const l=B(p,"yyyy-MM-dd");n(l),Y(B(p,"dd/MM/yyyy")),m(!1),T(!1)}},N=p=>{let l=p.target.value.replace(/\D/g,"");l.length>8&&(l=l.substring(0,8));let o=l;if(l.length>=3&&l.length<=4?o=`${l.substring(0,2)}/${l.substring(2)}`:l.length>4&&(o=`${l.substring(0,2)}/${l.substring(2,4)}/${l.substring(4)}`),Y(o),m(!1),l.length===8){const d=parseInt(l.substring(0,2)),D=parseInt(l.substring(2,4)),H=parseInt(l.substring(4,8));try{const P=mt(o,"dd/MM/yyyy",new Date);if(z(P)&&P.getDate()===d&&P.getMonth()+1===D&&P.getFullYear()===H&&H>=1900&&H<2100){const Q=B(P,"yyyy-MM-dd");n(Q),m(!1)}else m(!0)}catch{m(!0)}}else l.length===0&&!r&&(n(""),m(!1))};return b.jsxs("div",{className:W("space-y-2",x),children:[e&&b.jsxs(ae,{className:"flex items-center gap-1",children:[e," ",r&&b.jsx("span",{className:"text-destructive",children:"*"})]}),b.jsxs("div",{className:"relative flex items-center",children:[b.jsx(ne,{type:"text",inputMode:"numeric",value:_,onChange:N,placeholder:t,maxLength:10,className:W("h-14",a?"pl-10":"px-4",E?"border-destructive focus-visible:ring-destructive":"",c)}),a&&b.jsxs(ie,{open:v,onOpenChange:T,children:[b.jsx(oe,{asChild:!0,children:b.jsxs(le,{variant:"ghost",size:"icon",className:W("absolute left-1 top-1/2 -translate-y-1/2 h-8 w-8 text-muted-foreground hover:text-primary transition-colors",E&&"text-destructive"),children:[b.jsx(de,{size:18}),b.jsx("span",{className:"sr-only",children:"Abrir calendário"})]})}),b.jsx(ce,{className:"w-auto p-0",align:"start",children:b.jsx(ue,{mode:"single",selected:q(s),onSelect:L,locale:Te,initialFocus:!0})})]})]}),E&&b.jsx("p",{className:"text-[0.8rem] font-medium text-destructive",children:"Data inválida"})]})};export{vt as D};
